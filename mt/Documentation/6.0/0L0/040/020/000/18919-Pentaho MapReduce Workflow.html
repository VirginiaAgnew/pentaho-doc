<content type="text/html" title="Pentaho MapReduce Workflow">
  <body>
    <div>
      <div class="body">
        <p class="p">PDI and Pentaho MapReduce enables you to pull data from a Hadoop cluster, transform it, and pass it back to the cluster. Here is how you would approach doing this.</p>
        <div class="section">
          <div id="section_1" class="mt-page-section"><span id="PDI_Transformation"></span> 
            <h2 class="editable">PDI Transformation</h2>
            <p class="p">Start by deciding what you want to do with your data, open a PDI transformation, and drag the appropriate steps onto the canvas, configuring the steps to meet your data requirements. Drag the specifically-designed Hadoop <span class="ph uicontrol">MapReduce Input</span>               and Hadoop <span class="ph uicontrol">MapReduce Output</span>  steps onto the canvas. PDI provides these steps to completely avoid the need to write Java classes for this functionality. Configure both of these steps as needed. Once you have
              configured all the steps, add hops to sequence the steps as a transformation. Follow the workflow as shown in this sample transformation in order to properly communicate with Hadoop. Name this transformation Mapper.</p>
            <img alt="BigDataKeyValuePairExample.png"
            class="internal default" style="width: 550px; height: 275px;" width="550px" height="275px" src="http://help.pentaho.com/@api/deki/files/6117/BigDataKeyValuePairExample.png?size=bestfit&amp;width=550&amp;height=275&amp;revision=1" />
            <p class="p">Hadoop communicates in key/value pairs. PDI uses the <strong class="ph b">MapReduce Input</strong>  step to define how key/value pairs from Hadoop are interpreted by PDI. The <span class="ph uicontrol">MapReduce Input</span>  dialog box enables
              you to configure the <span class="ph uicontrol">MapReduce Input</span>  step.</p>
            <a class="thumb" title="mapreduceinput.png" rel="internal" href="http://help.pentaho.com/@api/deki/files/6123/mapreduceinput.png">
              <img alt="mapreduceinput.png" class="internal default" style="width: 550px; height: 229px;" width="550px" height="229px" src="http://help.pentaho.com/@api/deki/files/6123/mapreduceinput.png?size=bestfit&amp;width=550&amp;height=229&amp;revision=1"
              />
            </a> 
            <p class="p">PDI uses a <strong class="ph b">MapReduce Output</strong>  step to pass the output back to Hadoop. The <span class="ph uicontrol">MapReduce Output</span>  dialog box enables you to configure the <span class="ph uicontrol">MapReduce Output</span>               step.</p>
            <a class="thumb" title="mapreduceoutput.png" rel="internal" href="http://help.pentaho.com/@api/deki/files/6124/mapreduceoutput.png">
              <img alt="mapreduceoutput.png" class="internal default" style="width: 550px; height: 229px;" width="550px" height="229px" src="http://help.pentaho.com/@api/deki/files/6124/mapreduceoutput.png?size=bestfit&amp;width=550&amp;height=229&amp;revision=1"
              />
            </a> 
            <p class="p">What happens in the middle is entirely up to you. Pentaho provides many sample steps you can alter to create the functionality you need.</p>
          </div>
        </div>
        <div class="section">
          <div id="section_2" class="mt-page-section"><span id="PDI_Job"></span> 
            <h2 class="editable">PDI Job</h2>
            <p class="p">Once you have created the Mapper transformation, you are ready to include it in a <span class="ph uicontrol">Pentaho </span> <span class="ph uicontrol">MapReduc</span> e job entry and build a MapReduce job. Open a PDI job and drag the specifically-designed
              <strong class="ph b">Pentaho MapReduce</strong>  job entry onto the canvas. In addition to ordinary transformation work, this entry is designed to execute mapper/reducer functions within PDI. Again, no need to provide a Java class to achieve
              this.</p>
            <p class="p">Configure the <span class="ph uicontrol">Pentaho MapReduce</span>  entry to use the transformation as a mapper. Drag and drop a Start job entry, other job entries as needed, and result jobentries to handle the output onto the canvas. Add hops
              to sequence the entries into a job that you execute in PDI.</p>
            <p class="p">The workflow for the job should look something like this.</p>
            <p class="p">
              <img alt="File:/hadoop_transformation_job_workflow.jpg" class="internal default" style="width: 550px; height: 325px;" width="550px" height="325px" src="http://help.pentaho.com/@api/deki/files/6126/wordcountexample.png?size=bestfit&amp;width=550&amp;height=325&amp;revision=1"
              />
            </p>
            <p class="p">The Pentaho <span class="ph uicontrol">MapReduce</span>  dialog box enables you to configure the Pentaho MapReduce entry.</p>
            <a class="thumb" title="pentahomapreduce.png" rel="internal" href="http://help.pentaho.com/@api/deki/files/6125/pentahomapreduce.png">
              <img alt="pentahomapreduce.png" class="internal default" style="width: 550px; height: 321px;" width="550px" height="321px" src="http://help.pentaho.com/@api/deki/files/6125/pentahomapreduce.png?size=bestfit&amp;width=550&amp;height=321&amp;revision=1"
              />
            </a> 
          </div>
        </div>
      </div>
      <div class="related-links">&nbsp;</div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#PDI_Transformation" rel="internal">PDI Transformation</a>  </li>
      <li> <a href="#PDI_Job" rel="internal">PDI Job</a>  </li>
    </ol>
  </body>
</content>