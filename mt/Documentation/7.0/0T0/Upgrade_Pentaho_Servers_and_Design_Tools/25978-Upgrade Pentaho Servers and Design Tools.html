<content type="text/html" title="Upgrade Pentaho Servers and Design Tools">
  <head>
    <link type="text/css" rel="stylesheet" href="http://help.pentaho.com/@cdn/deki/syntax2/out/shCore.min.css" />
    <link type="text/css" rel="stylesheet" href="http://help.pentaho.com/@cdn/deki/syntax2/out/shThemeCedar.min.css" />
    <script type="text/javascript" src="http://help.pentaho.com/@cdn/deki/syntax2/out/shCore.min.js"></script>
    <script type="text/javascript" src="http://help.pentaho.com/@cdn/deki/syntax2/out/shBrushPlain.min.js"></script>
    <script type="text/javascript">
      /*<![CDATA[*/
      SyntaxHighlighter.all(); /*]]>*/
    </script>
    <script type="text/javascript" src="http://help.pentaho.com/@cdn/deki/syntax2/out/shBrushXml.min.js"></script>
    <script type="text/javascript" src="http://help.pentaho.com/@cdn/deki/syntax2/out/shBrushJScript.min.js"></script>
  </head>
  <body>
    <p>The upgrade&nbsp;process is similar&nbsp;whether you are upgrading&nbsp;the Pentaho Business Analytics (BA)&nbsp;Server&nbsp;or the Data Integration (DI) Server.</p>
    <p class="pentaho-note">This process assumes you
      <a title="Manually Install the Pentaho Server" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0">manually installed</a>  your original BA Server or original DI Server.</p>
    <div id="section_1" class="mt-page-section"><span id="Upgrade_the_Pentaho_Business_Analytics_Server"></span> 
      <h2 class="editable">Upgrade the Pentaho&nbsp;Business Analytics Server</h2>
      <p>After you finish the prerequisite&nbsp;tasks located in
        <a title="Upgrade" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0T0#Before_You_Begin">Before You Begin</a>, there are a few&nbsp;tasks that you will need to complete in order to&nbsp;upgrade to Pentaho 7.0 successfully.</p>
      <p>These sections&nbsp;will guide you through the remaining steps of the Pentaho BA upgrade process:</p>
      <ul class="pentaho-list-unordered">
        <li>Backup Your BA Server Configuration and Solutions Files</li>
        <li>Install the Pentaho&nbsp;Server&nbsp;7.0</li>
        <li>Restore Your BA Server Configuration and Solutions Files
          <ul>
            <li>Enable Logging Before Restoring Files</li>
          </ul>
        </li>
        <li>Update the BA Server Configuration</li>
        <li>Test Your BA Server</li>
        <li>Update&nbsp;Your BA Design&nbsp;Tools</li>
      </ul>
      <div id="section_2" class="mt-page-section"><span id="Step_1:_Backup_Your_BA_Server_Configuration_and_Solutions_Files"></span> 
        <h3 class="editable">Step 1:&nbsp;Backup Your BA Server&nbsp;Configuration and Solutions Files</h3>
        <p>The backup&nbsp;utility copies&nbsp;your Pentaho configuration and solutions files, then stores the created <span class="filepath style-wrap">.zip</span>  files in your user's home directory. You will need to merge&nbsp;your customizations if&nbsp;you
          have previously customized any&nbsp;of these things: <strong>server.xml</strong>, <strong>startup </strong> and <strong>shutdown scripts</strong>, <strong>system listeners</strong>, or <strong>security configuration files</strong> . We recommend
          making complete backups of your Quartz, Hibernate, and Jackrabbit databases before continuing with the upgrade process.</p>
        <ol class="pentaho-list-ordered">
          <li>Stop the
            <a title="Start and Stop the Pentaho Server for Configuration" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0H0/Start_and_Stop_the_Pentaho_Server_for_Configuration">BA Server</a> .</li>
          <li>Connect to the&nbsp;<span class="filepath style-wrap">cmd</span> &nbsp;line terminal for the BA Server.</li>
          <li>At the prompt, run the correct <span class="filepath style-wrap">BAServerConfigAndSolutionsBackup</span> &nbsp;utility for your operating system.</li>
        </ol>
        <p><em>Optional</em> : You have the option of manually setting a version parameter here. If a valid version is not automatically found during back-up, the process will be aborted. You will then be prompted to provide the version information as an
          argument to the utility.</p>
        <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
          <thead> </thead>
          <tbody>
            <tr>
              <td style="width:258px;">
                <p><em><strong>Windows</strong> </em> </p>
              </td>
              <td style="width:980px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">BAServerConfigAndSolutionsBackup &quot;C:\Program Files\pentaho\server\biserver-ee&quot;</pre> </td>
            </tr>
            <tr>
              <td style="width:258px;">
                <p><em><strong>Linux</strong> </em> </p>
              </td>
              <td style="width:980px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">./BAServerConfigAndSolutionsBackup.sh /opt/custom software/pentaho/server/biserver-ee</pre> </td>
            </tr>
          </tbody>
        </table>
        <p>The next step is to install a new instance of the&nbsp;Pentaho 7.0 software.&nbsp;</p>
      </div>
      <div id="section_3" class="mt-page-section"><span id="Step_2:_Install_the_Pentaho_Server_7.0"></span> 
        <h3 class="editable">Step 2: Install the Pentaho&nbsp;Server 7.0</h3>
        <p>A new&nbsp;archive installation of the&nbsp;
          <a class="link-https" title="https://support.pentaho.com/hc/en-us" rel="external nofollow" href="https://support.pentaho.com/hc/en-us" target="_blank">Pentaho&nbsp;Server&nbsp;7.0 package</a> &nbsp;is needed as part of&nbsp;the upgrade process, after you have finished the upgrade prerequisites and backed up your Pentaho&nbsp;BA&nbsp;configuration and solutions files.&nbsp; You'll need this
          in order to get all of the required&nbsp;
          <a title="What&amp;#39;s New in Pentaho 7.0" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0C0">updates</a> .</p>
        <p class="pentaho-note">Make sure to install the new instance of Pentaho on the same server.</p>
        <p>Next, do these tasks from the Prepare Your Environment section of the
          <a title="Prepare Your Environment for Manually Installing the Pentaho Server" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020"> archive installation</a>  guides.&nbsp;Make sure that you leave&nbsp;your Pentaho&nbsp;5.x or 6.x instance &quot;as is&quot; and unpack&nbsp;Pentaho 7.0 into a new directory.&nbsp;</p>
        <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table"
        style="width: 100%; table-layout: fixed;" title="Pentaho Table">
          <tbody>
            <tr>
              <td style="width:258px;">
                <p><em><strong>Windows</strong> </em> </p>
              </td>
              <td style="width:980px;">
                <ul class="pentaho-list-unordered">
                  <li> <a title="Prepare Your Windows Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0A0#Install_Java">Install Java&nbsp;</a>  </li>
                  <li> <a title="Prepare Your Windows Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0A0#Set_Environment_Variables">Set Environment Variables</a>  </li>
                </ul>
              </td>
            </tr>
            <tr>
              <td style="width:258px;">
                <p><em><strong>Linux</strong> </em> </p>
              </td>
              <td style="width:980px;">
                <ul class="pentaho-list-unordered">
                  <li> <a title="Prepare Your Linux and Mac Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0B0#Install_Java">Install Java&nbsp;</a>  </li>
                  <li> <a title="Prepare Your Linux and Mac Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0B0#Set_Environment_Variables">Set Environment Variables</a>  </li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
        <p>If you are using custom port numbers and a custom fully-qualified URL, there are some updates for 7.0 that you should be aware of.
          <a title="Change Ports and URLs" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0P0/Managing_the_Pentaho_Server/Change_Ports_and_URLs">Change the Port Numbers for the BA Server</a>  has information and steps for how to do both of these things in Pentaho&nbsp;7.0.</p>
      </div>
      <div id="section_4" class="mt-page-section"><span id="Step_3:_Restore_Your_BA_Server_Configuration_and_Solutions_Files"></span> 
        <h3 class="editable">Step 3:&nbsp;Restore Your BA Server Configuration and Solutions Files</h3>
        <p><span class="mt-bgcolor-ffff00"><span class="mt-bgcolor-ffffff">After you have unpacked your </span> </span> <span class="mt-bgcolor-ffff00"><span class="mt-bgcolor-ffffff">Pentaho</span> </span> <span class="mt-bgcolor-ffff00"><span class="mt-bgcolor-ffffff">&nbsp;7.0 bundle, restore your </span> </span> 
          <span
          class="mt-bgcolor-ffff00"><span class="mt-bgcolor-ffffff">Pentaho files&nbsp;to your 7.0&nbsp;instance with the restore utility.&nbsp;Use the following steps to apply the <code>BAServerConfigAndSolutionsRestore</code>&nbsp;utility:</span> </span> 
        </p>
        <ol class="pentaho-list-ordered">
          <li>Delete all the content in the Pentaho Server 7.0 <code>pentaho-solutions/system/default-content</code> folder.</li>
          <li>Open a <span class="filepath style-wrap">cmd</span> &nbsp;prompt on the BA Server host machine.</li>
          <li>In the prompt, run the <span class="filepath style-wrap">BAServerConfigAndSolutionsRestore</span> &nbsp;utility to restore your data from the&nbsp;<code>.zip</code> files located in your user&nbsp;home folder.&nbsp;
            <table border="1" cellpadding="1"
            cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
              <thead> </thead>
              <tbody>
                <tr>
                  <td style="width:244px;">
                    <p><em><strong>Windows</strong> </em> </p>
                  </td>
                  <td style="width:966px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">BAServerConfigAndSolutionsRestore &quot;C:\Program Files\pentaho\server\pentaho-server&quot;</pre> </td>
                </tr>
                <tr>
                  <td style="width:244px;">
                    <p><em><strong>Linux</strong> </em> </p>
                  </td>
                  <td style="width:966px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">./BAServerConfigAndSolutionsRestore.sh /opt/home/pentaho/server/pentaho-server</pre> </td>
                </tr>
              </tbody>
            </table>
          </li>
        </ol>
        <ol class="pentaho-list-ordered" start="4">
          <li>If you are not going to enable logging before restoring files,
            <a title="Upgrade Pentaho Servers and Design Tools" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0T0/Upgrade_Pentaho_Servers_and_Design_Tools#Step_4:_Update_the_BA_Server_Configuration">update&nbsp;the BA Server configuration</a> .&nbsp;</li>
        </ol>
        <div id="section_5" class="mt-page-section"><span id="Optional:_Enable_Logging_Before_Restoring_Files"></span> 
          <h4 class="editable">Optional: Enable Logging Before Restoring Files</h4>
          <p>Before you restore your BA Server configuration and solutions files, enable logging in the logging configuration file:</p>
          <ol class="pentaho-list-ordered">
            <li>Locate the <span class="filepath style-wrap">/biserver-ee/tomcat/webapps/pentaho/WEB-INF/classes</span>  directory and open the <span class="filepath style-wrap">log4j.xml</span>  file with any text editor.&nbsp;</li>
            <li>Find the parameter for <span class="filepath style-wrap">Threshold</span> &nbsp;and verify its value is set to INFO. If it is not set to INFO,&nbsp;change the value as shown here:</li>
          </ol>
          <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
            <tbody>
              <tr>
                <td style="width:273px;"><strong>Old param value</strong> </td>
                <td style="width:965px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><param name=&quot;Threshold&quot; value=&quot;ERROR&quot;/></pre> </td>
              </tr>
              <tr>
                <td style="width:273px;"><strong>New param value</strong> </td>
                <td style="width:965px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><param name=&quot;Threshold&quot; value=&quot;INFO&quot;/></pre> </td>
              </tr>
            </tbody>
          </table>
          <ol class="pentaho-list-ordered" start="3">
            <li>Verify whether the following category is in the <code>log4j.xml</code> file. If it is not in the file, then add it:</li>
          </ol> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><category name=&quot;org.pentaho.platform.engine.core.system.status&quot;>
<priority value=&quot;INFO&quot;/>
</category></pre>
          <ol class="pentaho-list-ordered" start="4">
            <li>Save and close the <span class="filepath style-wrap">log4j.xml</span> &nbsp;file.</li>
          </ol>
        </div>
      </div>
      <div id="section_6" class="mt-page-section"><span id="Step_4:_Update_the_BA_Server_Configuration"></span> 
        <h3 class="editable">Step 4: Update&nbsp;the BA Server Configuration</h3>
        <p>After you have restored your BA Server&nbsp;configuration and solution files, make the following .xml file changes before starting the&nbsp;server.</p>
        <ol start="1">
          <li>Open the <span class="mt-font-courier-new">web.xml</span> &nbsp;file located here <span class="mt-font-courier-new">pentaho-server/tomcat/webapps/pentaho/</span> <span class="mt-font-courier-new">WEB-INF</span> .</li>
          <li>Make the following filter class value and parameter value&nbsp;changes:</li>
        </ol>
        <table border="1" cellpadding="1" cellspacing="1" style="table-layout: fixed; width: 100%;">
          <tbody>
            <tr>
              <td style="width:185px;">Old Text</td>
              <td style="width:1053px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><filter>
  <filter-name>Spring Security Filter Chain Proxy</filter-name>
  <filter-class>org.springframework.security.util.FilterToBeanProxy</filter-class>
  <init-param>
    <param-name>targetBean</param-name>
    <param-value>filterChainProxy</param-value>
  </init-param>
</filter></pre> </td>
            </tr>
            <tr>
              <td style="width:185px;">New Text</td>
              <td style="width:1053px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><filter>
  <filter-name>Spring Security Filter Chain Proxy</filter-name>

  <!--@deprecate FilterToBeanProxy in favour of the simpler and Spring Core provided DelegatingFilterProxy-->
  <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
  <init-param>
    <param-name>targetBeanName</param-name>
    <param-value>filterChainProxy</param-value>
  </init-param>
</filter></pre> </td>
            </tr>
          </tbody>
        </table>
        <ol start="3">
          <li>In the same <span class="mt-font-courier-new">web.xml</span> &nbsp;file, make the following listener value changes:</li>
        </ol>
        <table border="1" cellpadding="1" cellspacing="1" style="table-layout: fixed; width: 100%;">
          <tbody>
            <tr>
              <td style="width:183px;">Old Text</td>
              <td style="width:1055px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><listener>
  <listener-class>org.springframework.security.ui.session.HttpSessionEventPublisher</listener-class>
</listener></pre> </td>
            </tr>
            <tr>
              <td style="width:183px;">New Text</td>
              <td style="width:1055px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><listener>
  <listener-class>org.springframework.security.web.session.HttpSessionEventPublisher</listener-class>
</listener></pre> </td>
            </tr>
          </tbody>
        </table>
        <ol class="pentaho-list-ordered" start="4">
          <li>Save and close the <span class="mt-font-courier-new">web.xml</span>  file.</li>
          <li>
            <p>Open the <span class="mt-font-courier-new">plugin.xml</span> &nbsp;file located here <span class="mt-font-courier-new"><span class="mt-font-Calibri,sans-serif"><span class="mt-font-size-11.0pt">/pentaho-solutions/system/pentaho-interactive-reporting</span> </span> 
              </span> 
            </p>
          </li>
          <li>Search the <span class="mt-font-courier-new">plugin.xml</span>  file for the <span class="mt-font-courier-new"><content-generator id=&rdquo;Iadhoc&rdquo; type=&rdquo;iadhoc&rdquo;>&nbsp;</span>  block.</li>
          <li>Below that add the following block</li>
        </ol> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><content-generator id=&quot;iadhocasync&quot; type=&quot;iadhocasync&quot;>
        <classname>com.pentaho.iadhoc.service.BackgroundJobAdHocGenerator</classname>
        <title>Adhoc Async Report Viewer</title>
</content-generator></pre>
        <ol start="8">
          <li>Save and close the <span class="mt-font-courier-new">plugin.xml</span> &nbsp;file.</li>
          <li>Open the <code>settings.xml</code> file located here&nbsp;<code>server/pentaho-server/pentaho-solutions/system/reporting/settings.xml</code></li>
          <li>Update the <code>query-limit-ui-enabled</code> setting to <code>true</code> and the <code>query-limit</code> setting to <code>0</code> as shown in the following example lines of code:</li>
        </ol> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">
<!-- Enabled or disabled row limit control on UI. No value means disabled.-->
<query-limit-ui-enabled>true</query-limit-ui-enabled>

<!-- The maximum number of rows that will be rendered in a report viewer.-->
<query-limit>0</query-limit></pre>
        <ol start="11">
          <li>Save and close the <code>settings.xml</code> file.</li>
          <li>If you modified any of the following system configuration files in the <code>pentaho-solutions/system</code> folder of your previous installation, these modifications must be &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applied to the same Pentaho 7.0 files:</li>
        </ol>
        <ul style="margin-left: 40px;">
          <li><code>jackrabbit/repository.xml</code></li>
          <li><code>applicationContext-logging.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-jackrabbit.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-jdbc.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-ldap.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-memory.xml.original</code></li>
          <li><code>applicationContext-spring-security-cas.xml.original</code></li>
          <li><code>applicationContext-spring-security-jackrabbit.xml.original</code></li>
          <li><code>applicationContext-spring-security-jdbc.xml.original</code></li>
          <li><code>applicationContext-spring-security-ldap.xml.original</code></li>
          <li><code>applicationContext-spring-security-memory.xml.original</code></li>
          <li><code>applicationContext-spring-security-superuser.xml.original</code></li>
          <li><code>applicationContext-spring-security.xml.original</code></li>
          <li><code>pentahoObjects.spring.xml.original</code></li>
          <li><code>pentahoServices.spring.xml.original</code></li>
          <li><code>repository.spring.xml.original</code></li>
          <li><span class="mt-font-Open Sans,sans-serif"><code>log4j.xml</code> &ndash; which is located at </span> <code><span class="mt-font-courier-new"><span class="mt-font-Courier New">server/pentaho-server/tomcat/webapps/Pentaho/WEB-INF/classes/log4j.xml</span> </span> </code></li>
        </ul>
        <p class="pentaho-note" style="margin-left: 40px;">The upgrade utility contains a set of spring configuration files in their original 6.1.0.7 state. After the utility scripts run, determine the differences between your 6.1 files and these originals, then apply these changes to the 7.0 configuration
          files.</p>
        <p class="pentaho-note" style="margin-left: 40px;">The <code>jackrabbit/repository.xml</code> file contains database connection information. Please ensure this database connection information is properly carried over from your 6.1 version of the repository file into the 7.0 version of the file.</p>
        <ol start="13">
          <li> <a title="Start and Stop the Pentaho Server for Configuration" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0H0/Start_and_Stop_the_Pentaho_Server_for_Configuration">Start the BA Server</a> . </li>
        </ol>
        <p>Make sure&nbsp;not to interrupt the BA Server the first time you start it after restoring your data.</p>
      </div>
      <div id="section_7" class="mt-page-section"><span id="Step_5:_Test_Your_BA_Server"></span> 
        <h3 class="editable">Step 5: Test Your BA Server</h3>
        <p>The last thing that you will need to do before testing is to clear the cache from your web browser.</p>
        <p class="pentaho-note">While starting the BA Server, it initializes by installing all the Karaf features. The system waits for these features to be installed before timing out. The default wait&nbsp;before timing out is two minutes. If you modify any Karaf feature,
          you should consider&nbsp;
          <a title="Maintain the Pentaho Server Manually" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0P0/Managing_the_Pentaho_Server/Maintain_the_Pentaho_Server_Manually#Change_the_Karaf_Startup_Timeout_Setting">changing the&nbsp;Karaf startup timeout setting</a> .&nbsp;</p>
        <p><span style="line-height:1.5;">Here are some of the tasks you might want to do&nbsp;to verify that your content has been restored to the BA Server:</span> </p>
        <ul class="pentaho-list-unordered">
          <li>Navigate to your Pentaho&nbsp;URL&nbsp;and make sure the login screen appears.</li>
          <li>Log on to&nbsp;PUC and verify that you can run your old BA content.</li>
          <li>Verify that your schedules exist and are working properly.</li>
          <li>Make sure that your&nbsp;Pentaho plugins are installed and functional by performing the following tasks:
            <ul>
              <li>Open a report that requires no user prompts and a parameterized report.</li>
              <li>Create a test report for Interactive Reporting and one for Analyzer, as appropriate.</li>
              <li>Open a dashboard in Dashboard Designer.</li>
              <li>Publish a report in Report Designer.</li>
              <li>Publish an analysis schema from Spoon, if you have installed&nbsp;the Agile BI plugin available in the marketplace. (If not, you can publish an analysis schema using the
                <a title="Using the Publish Model Job Entry for SDR" rel="internal"
                href="http://help.pentaho.com/Documentation/7.0/0N0/060/0B0/020/0D0">Publish Model job entry</a> .)</li>
            </ul>
          </li>
          <li>Check your application server log.&nbsp;</li>
        </ul>
      </div>
      <div id="section_8" class="mt-page-section"><span id="Step_6:_Update_Your_BA_Design_Tools"></span> 
        <h3 class="editable">Step 6: Update Your&nbsp;BA&nbsp;Design&nbsp;Tools</h3>
        <p>The Pentaho BA design tools are stand-alone tools&nbsp;and are easily updated on your workstations.&nbsp;Pentaho design tools can be found in the <span class="filepath style-wrap">Pentaho/design-tools</span>  directory.</p>
        <ol class="pentaho-list-ordered">
          <li> <a title="Start and Stop BA Design Tools" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0H0/Start_and_Stop_BA_Design_Tools">Stop the design tool</a>, if it is currently&nbsp;running. </li>
          <li>Move the old design tool out of the&nbsp;Pentaho&nbsp;folder structure to a temporary folder.</li>
          <li>Copy the new version of the design tool into the&nbsp;Pentaho&nbsp;folder structure.</li>
          <li>Restart your design tool.</li>
        </ol>
      </div>
    </div>
    <div id="section_9" class="mt-page-section"><span id="Upgrade_the_Pentaho_Data_Integration_Server"></span> 
      <h2 class="editable">Upgrade the&nbsp;Pentaho Data Integration Server</h2>
      <p>After you finish the prerequisite&nbsp;tasks located in&nbsp;
        <a href="/Documentation/7.0/0T0#Before_You_Begin" rel="internal" title="Upgrade">Before&nbsp;You Begin</a>,&nbsp;there are a few&nbsp;tasks that you will need to complete in order to&nbsp;upgrade to Pentaho 7.0 successfully.</p>
      <p>These sections&nbsp;will guide you through the remaining steps of the Pentaho&nbsp;DI&nbsp;upgrade process:</p>
      <ul class="pentaho-list-unordered">
        <li>Backup Your DI Server Configuration and Solutions Files</li>
        <li>Install the Pentaho&nbsp;Server 7.0&nbsp;</li>
        <li>Restore Your DI Server Configuration and Solutions Files
          <ul>
            <li>Optional Step:&nbsp;Enable Logging Before Restoring Files</li>
          </ul>
        </li>
        <li>Update the DI Server Configuration</li>
        <li>Update&nbsp;Your Pentaho&nbsp;DI Client Tool</li>
        <li>Test Your DI Server</li>
      </ul>
      <div id="section_10" class="mt-page-section"><span id="Step_1:_Backup_Your_DI_Server_Configuration_and_Solutions_Files"></span> 
        <h3 class="editable">Step 1:&nbsp;Backup Your DI Server&nbsp;Configuration and Solutions Files</h3>
        <p>The backup&nbsp;utility copies&nbsp;your Pentaho configuration and solutions files, then stores the created <span class="filepath style-wrap">.zip</span> &nbsp;files in your user's home directory.&nbsp;You will need to merge&nbsp;your customizations
          if&nbsp;you have previously customized any&nbsp;of these things: <strong>server.xml</strong>, <strong>startup </strong> and <strong>shutdown scripts</strong>, <strong>system listeners</strong>, or <strong>security configuration files</strong> .
          We recommend making complete backups of your Quartz, Hibernate, and Jackrabbit databases before continuing with the upgrade process.</p>
        <ol class="pentaho-list-ordered">
          <li>Stop your
            <a title="Start and Stop the Pentaho Server for Configuration" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0H0/Start_and_Stop_the_Pentaho_Server_for_Configuration">DI Server</a> .</li>
          <li>Connect to the <span class="filepath style-wrap">cmd</span> &nbsp;line terminal for the DI Server.&nbsp;</li>
          <li>At the prompt, run the <span class="filepath style-wrap">DIServerConfigAndSolutionsBackup</span>  utility for your operating system.</li>
        </ol>
        <p><strong>Optional:</strong>  You have the option of manually setting a version parameter here. If a valid version is not automatically found during back-up, the process will be aborted. You will then be prompted to provide the version information
          as an argument to the utility.</p>
        <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
          <thead> </thead>
          <tbody>
            <tr>
              <td style="width:289px;">
                <p><em><strong>Windows</strong> </em> </p>
              </td>
              <td style="width:949px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">DIServerConfigAndSolutionsBackup &quot;C:\Program Files\pentaho\server\data-integration-server&quot;</pre> </td>
            </tr>
            <tr>
              <td style="width:289px;">
                <p><em><strong>Linux</strong> </em> </p>
              </td>
              <td style="width:949px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">./DIServerConfigAndSolutionsBackup.sh /opt/custom software/pentaho/server/data-integration-server</pre> </td>
            </tr>
          </tbody>
        </table>
        <p>The next step is to install a new instance of Pentaho&nbsp;DI 7.0 software.</p>
      </div>
      <div id="section_11" class="mt-page-section"><span id="Step_2:_Install_the_Pentaho_Server_7.0_2"></span> 
        <h3 class="editable">Step 2:&nbsp;Install the Pentaho Server 7.0&nbsp;</h3>
        <p>A new archive installation of the&nbsp;
          <a class="link-https" title="https://support.pentaho.com/hc/en-us" rel="external nofollow" href="https://support.pentaho.com/hc/en-us" target="_blank">Pentaho&nbsp;Server&nbsp;7.0 package</a> &nbsp;is needed as part of&nbsp;the upgrade process, after you have finished the upgrade prerequisites and backed up your Pentaho&nbsp;DI configuration and solutions files.&nbsp; You'll need this in order
          to get all of the required&nbsp;
          <a title="What&amp;#39;s New in Pentaho 7.0" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0C0">updates</a> .</p>
        <p class="pentaho-note">Make sure to install the new instance of Pentaho on the same server.</p>
        <p>Next, do these tasks from the Prepare Your Environment section of the
          <a title="Prepare Your Environment for Manually Installing the Pentaho Server" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020">archive installation</a>  guides.&nbsp;Make sure that you leave&nbsp;your Pentaho&nbsp;5.x or 6.x&nbsp;instance &quot;as is&quot; and unpack&nbsp;Pentaho 7.0 into a new directory.&nbsp;</p>
        <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table"
        style="width: 100%; table-layout: fixed;" title="Pentaho Table">
          <tbody>
            <tr>
              <td style="width:302px;">
                <p><em><strong>Windows</strong> </em> </p>
              </td>
              <td style="width:936px;">
                <ul class="pentaho-list-unordered">
                  <li> <a title="Prepare Your Windows Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0A0#Install_Java">Install Java&nbsp;</a>  </li>
                  <li> <a title="Prepare Your Windows Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0A0#Set_Environment_Variables">Set Environment Variables</a>  </li>
                </ul>
              </td>
            </tr>
            <tr>
              <td style="width:302px;">
                <p><em><strong>Linux</strong> </em> </p>
              </td>
              <td style="width:936px;">
                <ul class="pentaho-list-unordered">
                  <li> <a title="Prepare Your Linux and Mac Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0B0#Install_Java">Install Java&nbsp;</a>  </li>
                  <li> <a title="Prepare Your Linux and Mac Environment for Installation" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0F0/0P0/020/0B0#Set_Environment_Variables">Set Environment Variables</a>  </li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
        <p><span>If you are using custom port numbers and a custom fully-qualified URL, there are some updates for 7.0 that you should be aware of. <a href="/Documentation/7.0/0P0/Managing_the_Pentaho_Server/Change_Ports_and_URLs" rel="internal" title="Change Ports and URLs">Changing Ports and URLs</a>  has information and steps for how to do both of these things for the DI Server&nbsp;in Pentaho 7.0.</span> </p>
      </div>
      <div id="section_12" class="mt-page-section"><span id="Step_3:__Restore_Your_DI_Server_Configuration_and_Solutions_Files"></span> 
        <h3 class="editable">Step 3:&nbsp; Restore Your DI Server Configuration and Solutions Files</h3>
        <p><span class="mt-bgcolor-ffff00"><span class="mt-bgcolor-ffffff">After you have unpacked your </span> </span> <span class="mt-bgcolor-ffff00"><span class="mt-bgcolor-ffffff">Pentaho&nbsp;7.0 bundle,&nbsp;restore your custom data to your 7.0 instance with the restore utility. Use the following steps to apply the <code>DIServerConfigAndSolutionsRestore</code>&nbsp;utility:</span> </span> 
        </p>
        <ol class="pentaho-list-ordered">
          <li>Delete all the content in the Pentaho Server 7.0 <code>pentaho-solutions/system/default-content</code> folder.</li>
          <li>Open a <code>cmd</code>&nbsp;prompt on the DI&nbsp;Server host machine.</li>
          <li>In the prompt, run the <span class="filepath style-wrap">DIServerConfigAndSolutionsRestore</span> &nbsp;utility to restore your data from the&nbsp;<code>.zip</code> files in your user&nbsp;home folder.&nbsp;
            <table border="1" cellpadding="1"
            cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
              <thead> </thead>
              <tbody>
                <tr>
                  <td style="width:283px;">
                    <p><em><strong>Windows</strong> </em> </p>
                  </td>
                  <td style="width:927px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">DIServerConfigAndSolutionsRestore &quot;C:\Program Files\pentaho\server\pentaho-server&quot;</pre> </td>
                </tr>
                <tr>
                  <td style="width:283px;">
                    <p><em><strong>Linux</strong> </em> </p>
                  </td>
                  <td style="width:927px;"> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">./DIServerConfigAndSolutionsRestore.sh /opt/custom software/pentaho/server/pentaho-server</pre> </td>
                </tr>
              </tbody>
            </table>
          </li>
        </ol>
        <ol class="pentaho-list-ordered" start="4">
          <li>If you are not going to enable logging before restoring files,
            <a title="Upgrade Pentaho Servers and Design Tools" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0T0/Upgrade_Pentaho_Servers_and_Design_Tools#Step_4:_Update_the_DI_Server_Configuration">update the DI Server configuration</a> .&nbsp;</li>
        </ol>
        <div id="section_13" class="mt-page-section"><span id="Optional:_Enable_Logging_Before_Restoring_Files_2"></span> 
          <h4 class="editable">Optional:&nbsp;Enable Logging Before Restoring Files</h4>
          <p>Before you restore your DI&nbsp;Server configuration and solutions files, enable logging in the logging configuration file:</p>
          <ol class="pentaho-list-ordered">
            <li>Locate the<span class="filepath style-wrap"> /data-integration-server/tomcat/webapps/pentaho/WEB-INF/classes</span>  directory and open the <span class="filepath style-wrap">log4j.xml</span>  file with any text editor.&nbsp;</li>
            <li>Find the parameter for <span class="filepath style-wrap">Threshold</span> &nbsp;and verify its value is set to INFO. If it is not set to INFO, change the value as shown here:</li>
          </ol>
          <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
            <tbody>
              <tr>
                <td style="width:320px;"><strong>Old param value</strong> </td>
                <td style="width:918px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><param name=&quot;Threshold&quot; value=&quot;ERROR&quot;/></pre> </td>
              </tr>
              <tr>
                <td style="width:320px;"><strong>New param value</strong> </td>
                <td style="width:918px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><param name=&quot;Threshold&quot; value=&quot;INFO&quot;/></pre> </td>
              </tr>
            </tbody>
          </table>
          <ol class="pentaho-list-ordered" start="3">
            <li>Verify whether the following category is in the <code>log4j.xml</code> file. If it is not in the file, then add it:</li>
          </ol> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><category name=&quot;org.pentaho.platform.engine.core.system.status&quot;>
<priority value=&quot;INFO&quot;/>
</category></pre>
          <ol class="pentaho-list-ordered" start="4">
            <li>Save and close the <span class="filepath style-wrap">log4j.xml</span> &nbsp;file.</li>
          </ol>
        </div>
      </div>
      <div id="section_14" class="mt-page-section"><span id="Step_4:_Update_the_DI_Server_Configuration"></span> 
        <h3 class="editable"><span class="mt-bgcolor-ffff00">
          <span class="mt-bgcolor-ffffff">Step 4: Update the DI Server Configuration</span> </span> 
        </h3>
        <p>After restoring your DI Server&nbsp;configuration and solution files&nbsp;and enabling the DI Server, update your configuration by making&nbsp;changes to the <code>web.xml</code> file, the <code>licenseManagerAdmin.js</code> file, and any configuration
          files you modified in your previous installation.</p>
        <p class="pentaho-caution">You must&nbsp;complete the upgrade process for the BA Server prior to enabling the DI Server.</p>
        <ol>
          <li>Open the <span class="mt-font-courier-new">web.xml</span> &nbsp;file located in the&nbsp;<span class="mt-font-courier-new">pentaho-server/tomcat/webapps/pentaho/</span> <span class="mt-font-courier-new">WEB-INF</span> &nbsp;folder.</li>
          <li>Make the following filter value&nbsp;changes:</li>
        </ol>
        <table border="1" cellpadding="1" cellspacing="1" style="table-layout: fixed; width: 100%;">
          <tbody>
            <tr>
              <td style="width:185px;">Old Text</td>
              <td style="width:1053px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><filter>
        <filter-name>Pentaho Web Context Filter</filter-name>
        <filter-class>org.pentaho.platform.web.http.filters.PentahoWebContextFilter</filter-class>
    </filter></pre> </td>
            </tr>
            <tr>
              <td style="width:185px;">New Text</td>
              <td style="width:1053px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><filter>
       <filter-name>Pentaho Web Context Filter</filter-name>
       <filter-class>com.pentaho.platform.web.http.filters.PentahoEnterpriseWebContextFilter</filter-class>
   </filter></pre> </td>
            </tr>
          </tbody>
        </table>
        <ol start="3">
          <li>In the same <span class="mt-font-courier-new">web.xml</span>  file, make the following filter class value and parameter value&nbsp;changes:</li>
        </ol>
        <table border="1" cellpadding="1" cellspacing="1" style="table-layout: fixed; width: 100%;">
          <tbody>
            <tr>
              <td style="width:185px;">Old Text</td>
              <td style="width:1053px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><filter>
  <filter-name>Spring Security Filter Chain Proxy</filter-name>
  <filter-class>org.springframework.security.util.FilterToBeanProxy</filter-class>
  <init-param>
    <param-name>targetBean</param-name>
    <param-value>filterChainProxy</param-value>
  </init-param>
</filter></pre> </td>
            </tr>
            <tr>
              <td style="width:185px;">New Text</td>
              <td style="width:1053px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><filter>
  <filter-name>Spring Security Filter Chain Proxy</filter-name>

  <!--@deprecate FilterToBeanProxy in favour of the simpler and Spring Core provided DelegatingFilterProxy-->
  <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
  <init-param>
    <param-name>targetBeanName</param-name>
    <param-value>filterChainProxy</param-value>
  </init-param>
</filter></pre> </td>
            </tr>
          </tbody>
        </table>
        <ol start="4">
          <li>And then, make the following listener value changes:</li>
        </ol>
        <table border="1" cellpadding="1" cellspacing="1" style="table-layout: fixed; width: 100%;">
          <tbody>
            <tr>
              <td style="width:183px;">Old Text</td>
              <td style="width:1055px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><listener>
  <listener-class>org.springframework.security.ui.session.HttpSessionEventPublisher</listener-class>
</listener></pre> </td>
            </tr>
            <tr>
              <td style="width:183px;">New Text</td>
              <td style="width:1055px;"> <pre class="brush: xml; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; "><listener>
  <listener-class>org.springframework.security.web.session.HttpSessionEventPublisher</listener-class>
</listener></pre> </td>
            </tr>
          </tbody>
        </table>
        <ol start="5">
          <li>Save and close the <span class="mt-font-courier-new">web.xml</span>  file.</li>
          <li>Open the <code>licenseManagerAdmin.js</code> file located in the <code>pentaho-server/pentaho-solution/system/admin-plugin/resources/licenseManagerModule</code>&nbsp;folder.</li>
          <li>Make the following changes to the context path:</li>
        </ol>
        <table border="1" cellpadding="1" cellspacing="1" style="table-layout: fixed; width: 100%;">
          <tbody>
            <tr>
              <td style="width:183px;">Old Text</td>
              <td style="width:1055px;"> <pre class="brush: jscript; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">window.location = CONTEXT_PATH + &quot;Home&quot;</pre> </td>
            </tr>
            <tr>
              <td style="width:183px;">New Text</td>
              <td style="width:1055px;"> <pre class="brush: jscript; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">window.location = CONTEXT_PATH + &quot;kettle/status&quot;</pre> </td>
            </tr>
          </tbody>
        </table>
        <ol start="8">
          <li>Save and close the <code>licenseManagerAdmin.js</code> file.</li>
          <li>If you modified any of the following system configuration files in the <code>pentaho-solutions/system</code> folder of your previous installation, these modifications must be applied to the same Pentaho 7.0 files:</li>
        </ol>
        <ul style="margin-left: 40px;">
          <li><code>jackrabbit/repository.xml</code></li>
          <li><code>applicationContext-logging.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-jackrabbit.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-jdbc.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-ldap.xml.original</code></li>
          <li><code>applicationContext-pentaho-security-memory.xml.original</code></li>
          <li><code>applicationContext-spring-security-cas.xml.original</code></li>
          <li><code>applicationContext-spring-security-jackrabbit.xml.original</code></li>
          <li><code>applicationContext-spring-security-jdbc.xml.original</code></li>
          <li><code>applicationContext-spring-security-ldap.xml.original</code></li>
          <li><code>applicationContext-spring-security-memory.xml.original</code></li>
          <li><code>applicationContext-spring-security-superuser.xml.original</code></li>
          <li><code>applicationContext-spring-security.xml.original</code></li>
          <li><code>pentahoObjects.spring.xml.original</code></li>
          <li><code>pentahoServices.spring.xml.original</code></li>
          <li><code>repository.spring.xml.original</code></li>
          <li><span class="mt-font-Open Sans,sans-serif"><code>log4j.xml</code> &ndash; which is located at </span> <code><span class="mt-font-courier-new"><span class="mt-font-Courier New">server/pentaho-server/tomcat/webapps/Pentaho/WEB-INF/classes/log4j.xml</span> </span> </code></li>
        </ul>
        <p class="pentaho-note" style="margin-left: 40px;">The upgrade utility contains a set of spring configuration files in their original 6.1.0.7 state. After the utility scripts run, determine the differences between your 6.1 files and these originals, then apply these changes to the 7.0 configuration
          files.</p>
        <p class="pentaho-note" style="margin-left: 40px;">The <code>jackrabbit/repository.xml</code> file contains database connection information. Please ensure this database connection information is properly carried over from your 6.1 version of the repository file into the 7.0 version of the file.</p>
        <ol start="10">
          <li> <a title="Start and Stop the Pentaho Server for Configuration" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0H0/Start_and_Stop_the_Pentaho_Server_for_Configuration">Start the DI Server</a> . </li>
        </ol>
        <p>Make sure&nbsp;not to interrupt the DI&nbsp;Server the first time you start it after restoring your data.</p>
      </div>
      <div id="section_15" class="mt-page-section"><span id="Step_5:_Update_Your_Pentaho_DI_Client_Tool"></span> 
        <h3 class="editable">Step 5:&nbsp;Update Your&nbsp;Pentaho DI&nbsp;Client&nbsp;Tool</h3>
        <p>The Pentaho DI&nbsp;client&nbsp;tool, Spoon, is&nbsp;easily updated on your workstations.</p>
        <ol class="pentaho-list-ordered">
          <li> <a title="Start and Stop PDI Design Tools and Utilities" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0H0/Start_and_Stop_PDI_Design_Tools_and_Utilities">Stop Spoon</a>, if it is currently&nbsp;running. </li>
          <li>Move the old design tool out of the&nbsp;Pentaho&nbsp;folder structure to a temporary folder.</li>
          <li>Copy the new version of the design tool into the&nbsp;Pentaho&nbsp;folder structure.</li>
          <li>Restart your design tool.</li>
        </ol>
      </div>
      <div id="section_16" class="mt-page-section"><span id="Step_6:_Test_Your_New_DI_Server"></span> 
        <h3 class="editable">Step 6:&nbsp;Test Your New DI Server</h3>
        <p class="p">The last thing that you will need to do before testing is to clear the cache from your web browser.&nbsp;Pentaho design tools can be found in the <span class="filepath style-wrap">Pentaho/design-tools</span>  directory.</p>
        <p class="pentaho-note">While starting the&nbsp;DI Server, it initializes by installing all the Karaf features. The system waits for these features to be installed before timing out. The default wait&nbsp;before timing out is 2 minutes. If you modify any Karaf feature,
          you should consider&nbsp;
          <a title="Maintain the Pentaho Server Manually" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0P0/Managing_the_Pentaho_Server/Maintain_the_Pentaho_Server_Manually#Change_the_Karaf_Startup_Timeout_Setting">
            <u>
              <font color="#0066cc">changing the Karaf startup timeout setting</font>
            </u>
          </a> .</p>
        <p>Make sure that the DI Server and Spoon are running, then use this list to verify that your content has been restored to the DI Server.</p>
        <ul class="ul">
          <li class="li">Open old jobs and transformations and ensure that they execute properly.</li>
          <li class="li">Create a new job or&nbsp;transformation and save it as you normally would.</li>
          <li class="li">Schedule a job or transformation and ensure that the schedule executes properly.</li>
          <li class="li">Ensure that existing schedules are still valid.</li>
          <li class="li">If you are using an enterprise repository, share a job or transformation between PDI users and verify that both can access it.</li>
          <li class="li">Physically restart the server and ensure that the DI Server are automatically started as services.</li>
        </ul>
        <p class="li">If the test fails, the <code>PUCLogin.jsp</code> and <code>index.jsp</code> files&nbsp;may have been corrupted during the upgrade process. If they are corrupted, these files must be replaced to resolve this issue, as shown in the following steps:</p>
        <ol>
          <li class="li">To verify corruption has occurred, open the <code>tomcat/webapps/pentaho-di/jsp/PUCLogin.jsp</code> file to see if it is empty or has corrupted information.</li>
          <li class="li">Retrieve the original <code>PUCLogin.jsp</code> from the <code>pentaho-server-ee-7.0..x.yy-dist</code> file and use it to replace the corrupted one in the <code>tomcat/webapps/pentaho-di/jsp</code> folder.</li>
          <li class="li">Edit the new&nbsp;<code>PUCLogin.jsp</code> file to replace <code>&ldquo;Home&rdquo;</code> with <code>&ldquo;kettle/status&rdquo;</code>.</li>
          <li class="li">Save and close the file.</li>
          <li class="li">Open the <code>tomcat/webapps/ROOT/index.jsp</code> file to verify corruption has occurred.</li>
          <li class="li">Retrieve the original <code>index.jsp</code> file and use it to replace the corrupted one in the <code>tomcat/webapps/ROOT</code> folder.</li>
          <li class="li">Edit the new&nbsp;<code>index.jsp</code> file to replace <code>&ldquo;pentaho&rdquo;</code> with <code>&ldquo;pentaho-di&rdquo;</code>.</li>
          <li class="li">Save and close the file.</li>
        </ol>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li>
        <a href="#Upgrade_the_Pentaho_Business_Analytics_Server" rel="internal">Upgrade the Pentaho&nbsp;Business Analytics Server</a> 
        <ol>
          <li> <a href="#Step_1:_Backup_Your_BA_Server_Configuration_and_Solutions_Files" rel="internal">Step 1:&nbsp;Backup Your BA Server&nbsp;Configuration and Solutions Files</a>  </li>
          <li> <a href="#Step_2:_Install_the_Pentaho_Server_7.0" rel="internal">Step 2: Install the Pentaho&nbsp;Server 7.0</a>  </li>
          <li>
            <a href="#Step_3:_Restore_Your_BA_Server_Configuration_and_Solutions_Files" rel="internal">Step 3:&nbsp;Restore Your BA Server Configuration and Solutions Files</a> 
            <ol>
              <li> <a href="#Optional:_Enable_Logging_Before_Restoring_Files" rel="internal">Optional: Enable Logging Before Restoring Files</a>  </li>
            </ol>
          </li>
          <li> <a href="#Step_4:_Update_the_BA_Server_Configuration" rel="internal">Step 4: Update&nbsp;the BA Server Configuration</a>  </li>
          <li> <a href="#Step_5:_Test_Your_BA_Server" rel="internal">Step 5: Test Your BA Server</a>  </li>
          <li> <a href="#Step_6:_Update_Your_BA_Design_Tools" rel="internal">Step 6: Update Your&nbsp;BA&nbsp;Design&nbsp;Tools</a>  </li>
        </ol>
      </li>
      <li>
        <a href="#Upgrade_the_Pentaho_Data_Integration_Server" rel="internal">Upgrade the&nbsp;Pentaho Data Integration Server</a> 
        <ol>
          <li> <a href="#Step_1:_Backup_Your_DI_Server_Configuration_and_Solutions_Files" rel="internal">Step 1:&nbsp;Backup Your DI Server&nbsp;Configuration and Solutions Files</a>  </li>
          <li> <a href="#Step_2:_Install_the_Pentaho_Server_7.0_2" rel="internal">Step 2:&nbsp;Install the Pentaho Server 7.0&nbsp;</a>  </li>
          <li>
            <a href="#Step_3:__Restore_Your_DI_Server_Configuration_and_Solutions_Files" rel="internal">Step 3:&nbsp; Restore Your DI Server Configuration and Solutions Files</a> 
            <ol>
              <li> <a href="#Optional:_Enable_Logging_Before_Restoring_Files_2" rel="internal">Optional:&nbsp;Enable Logging Before Restoring Files</a>  </li>
            </ol>
          </li>
          <li> <a href="#Step_4:_Update_the_DI_Server_Configuration" rel="internal">Step 4: Update the DI Server Configuration</a>  </li>
          <li> <a href="#Step_5:_Update_Your_Pentaho_DI_Client_Tool" rel="internal">Step 5:&nbsp;Update Your&nbsp;Pentaho DI&nbsp;Client&nbsp;Tool</a>  </li>
          <li> <a href="#Step_6:_Test_Your_New_DI_Server" rel="internal">Step 6:&nbsp;Test Your New DI Server</a>  </li>
        </ol>
      </li>
    </ol>
  </body>
</content>