<content type="text/html" title="Switch to Memcached">
  <body>
    <div>
      <div class="body taskbody">
        <div class="section prereq p">To switch to Memcached, you must have your own pre-configured Memcached instance. You should have also installed the Analysis Enterprise Edition package to your Pentaho Server or standalone Mondrian engine.</div>
        <div class="section context">
          <p class="p">If you already use the Memcached cache framework in your organization and would like to hook it up to the Pentaho Analysis OLAP engine, follow the directions below to switch from the default Infinispan cache framework configuration:</p>
          <p class="pentaho-note">Pentaho and Mondrian developers recommend against using Memcached. You are almost certain to have better performance with Infinispan.</p>
        </div>
        <ol class="ol steps">
          <li class="li step"><span class="ph cmd">If the Pentaho Server or standalone Mondrian engine are running, shut them down now.</span> </li>
          <li class="li step"><span class="ph cmd">If you performed a default install of the Pentaho Analysis Enterprise Edition package, then you should have all of the required JARs installed to the Pentaho&nbsp;or Mondrian server. If you are not sure, verify now that the following JARs are present in the <span class="ph filepath">/WEB-INF/lib/</span>             folder&nbsp;inside of your deployed <code>pentaho.war</code> or Mondrian engine:</span> 
            <ul class="ul">
              <li class="li"><code>pentaho-analysis-ee</code></li>
              <li class="li"><code>commons-lang</code></li>
              <li class="li"><code>commons-io</code></li>
              <li class="li"><code>commons-codec</code></li>
              <li class="li"><code>pentaho-ee-dsc-core</code></li>
              <li class="li"><code>memcached</code></li>
            </ul>
          </li>
          <li class="li step"><span class="ph cmd">Edit <code>pentaho-analysis-config.xml</code>&nbsp;in the <span class="ph filepath">/WEB-INF/classes/</span>  folder&nbsp;inside the deployed <code>pentaho.war</code> or Mondrian engine, and change the value of <code>SEGMENT_CACHE_IMPL</code>&nbsp;to
            match the class name referenced below:</span>  <pre class="pre codeblock">
<entry key=&quot;SEGMENT_CACHE_IMPL&quot;>com.pentaho.&#8203;analysis.segmentcache.&#8203;impl.memcached.&#8203;MemcachedSegmentCache</entry></pre> </li>
          <li class="li step"><span class="ph cmd">Edit <code>memcached-config.xml</code>&nbsp;in the <span class="ph filepath">/WEB-INF/classes/</span>  folder inside the deployed <code>pentaho.war</code> or Mondrian engine, and change the values of <code>SALT</code>, <code>SERVERS</code>,
            and <code>WEIGHT</code>&nbsp;to match your preference:</span>  <pre class="pre codeblock">
<entry key=&quot;SALT&quot;>YOUR SECRET SALT VALUE HERE</entry>
<entry key=&quot;SERVERS&quot;>192.168.0.1:1642,192.168.0.2:1642</entry>
<entry key=&quot;WEIGHTS&quot;>1,1</entry></pre> </li>
        </ol>
        <div class="section result">Your Pentaho Analysis Enterprise Edition instance is now configured to use Memcached for OLAP segment caching.</div>
      </div>
      <div class="related-links">
        <ul class="ullinks">
          <li class="link ulchildlink"><strong><a title="Memcached Configuration Options" rel="internal" href="http://help.pentaho.com/Documentation/7.0/0P0/100/050/010/000/030/000/000">Memcached Configuration Options</a> </strong> </li>
        </ul>
      </div>
    </div>
  </body>
  <body target="toc"><em>No headers</em> </body>
</content>