<content type="text/html" title="LDAP Properties">
  <body>
    <script type="text/javascript">
      /*<![CDATA[*/
      /*]]>*/
    </script>
    <div>
      <div class="body refbody">
        <p>You can configure LDAP values by editing the <span class="ph filepath">/pentaho-solutions/system/applicationContext-security-ldap.properties</span>  file in your Pentaho&nbsp;Server folder.</p>
        <div class="section">
          <div id="section_1" class="mt-page-section"><span id="Connection_Information_(Context)"></span> 
            <h2 class="editable">Connection Information (Context)</h2>
            <p class="p">These entries define connections involving LDAP users (typically administrators) that can execute folder searches.</p>
          </div>
        </div>
        <div class="tablenoborder">
          <table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__security_ldap_properties__table_pfj_4fm_mj" rules="all" summary="">
            <thead align="left" class="thead">
              <tr class="row">
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e37" valign="top">LDAP Property</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e40" valign="top">Purpose</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e43" valign="top">Example</th>
              </tr>
            </thead>
            <tbody class="tbody">
              <tr class="row">
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top"><code>contextSource.providerUrl</code></td>
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top">LDAP connection URL</td>
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top"><code>contextSource.providerUrl=<a class="external" href="ldap://holly:389/DC=Valyant,DC=local" rel="freeklink" title="ldap://holly:389/DC=Valyant,DC=local">ldap://holly:389/DC=Valyant,DC=local</a> </code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top"><code>contextSource.userDn</code></td>
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top">Distinguished name of a user with read access to directory</td>
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top"><code>contextSource.userDn=CN= Administrator, CN=Users,DC=Valyant,DC=local</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top"><code>contextSource.password</code></td>
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top">Password for the specified user</td>
                <td class="entry" headers="d81757e37 d81757e40 d81757e43 " valign="top"><code>contextSource.password=secret</code></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="section">
          <div id="section_2" class="mt-page-section"><span id="Users"></span> 
            <h2 class="editable">Users</h2>
            <p class="p">These options control how the LDAP server is searched for user names that are entered in the Pentaho login dialog box.</p>
            <p class="pentaho-note">The <code>{0}</code> token will be replaced by the user name from the login dialog box.</p>
            <p class="pentaho-note">The example above defines <code>DC=Valyant,DC=local in contextSource.providerURL</code>. Given that definition, you would not need to repeat that in <code>userSearch.searchBase</code> below because it will be appended automatically to the
              defined value here.</p>
          </div>
        </div>
        <div class="tablenoborder">
          <table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__security_ldap_properties__table_wsr_bzn_pj" rules="all" summary="">
            <thead align="left" class="thead">
              <tr class="row">
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e124" valign="top">LDAP Property</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e127" valign="top">Purpose</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e130" valign="top">Example</th>
              </tr>
            </thead>
            <tbody class="tbody">
              <tr class="row">
                <td class="entry" headers="d81757e124 d81757e127 d81757e130 " valign="top"><code>userSearch.searchBase</code></td>
                <td class="entry" headers="d81757e124 d81757e127 d81757e130 " valign="top">Base (by user name) for user searches</td>
                <td class="entry" headers="d81757e124 d81757e127 d81757e130 " valign="top"><code>userSearch.searchBase=CN=Users</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e124 d81757e127 d81757e130 " valign="top"><code>userSearch.searchFilter</code></td>
                <td class="entry" headers="d81757e124 d81757e127 d81757e130 " valign="top">Filter (by user name) for user searches. The attribute you specify here must contain the value that you want your users to log into Pentaho with. Active Directory user names are represented by <code>sAMAccountName</code>; full names are
                  represented by <code>displayName</code>.</td>
                <td class="entry" headers="d81757e124 d81757e127 d81757e130 " valign="top"><code>userSearch.searchFilter= (sAMAccountName={0})</code></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="section">
          <div id="section_3" class="mt-page-section"><span id="Populator"></span> 
            <h2 class="editable">Populator</h2>
            <p class="p">The populator matches fully distinguished user names from <code>userSearch</code> to distinguished role names for roles those users belong to.</p>
            <p class="pentaho-note">The <code>{0}</code> token will be replaced with the user DN found during a user search; the <code>{1}</code> token is replaced with the user name entered in the login screen.</p>
          </div>
        </div>
        <div class="tablenoborder">
          <table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__security_ldap_properties__table_ffq_kzn_pj" rules="all" summary="">
            <thead align="left" class="thead">
              <tr class="row">
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e194" valign="top">LDAP Property</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e197" style="width: 492.5px;" valign="top">Purpose</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e200" style="width: 440.5px;" valign="top">Example</th>
              </tr>
            </thead>
            <tbody class="tbody">
              <tr class="row">
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " valign="top"><code>populator.convertToUpperCase</code></td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 491.5px;" valign="top">Indicates whether or not retrieved role names are converted to uppercase</td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 439.5px;" valign="top"><code>populator.convertToUpperCase=false</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " valign="top"><code>populator.groupRoleAttribute</code></td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 491.5px;" valign="top">The attribute to get role names from</td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 439.5px;" valign="top"><code>populator.groupRoleAttribute=cn</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " valign="top"><code>populator.groupSearchBase</code></td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 491.5px;" valign="top">Base (by user DN or user name) for role searches.</td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 439.5px;" valign="top"><code>populator.groupSearchBase=ou= Pentaho</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " valign="top"><code>populator.groupSearchFilter</code></td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 491.5px;" valign="top">The special nested group filter for Active Directory is shown in the example; this will not work with non-MSAD directory servers.</td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 439.5px;" valign="top"><code>populator.groupSearchFilter= (memberof:1.2.840.113556.1.4.1941: =({0}))</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " valign="top"><code>populator.rolePrefix</code></td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 491.5px;" valign="top">A prefix to add to the beginning of the role name found in the group role attribute; the value can be an empty string.</td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 439.5px;" valign="top"><code>populator.rolePrefix=</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " valign="top"><code>populator.searchSubtree</code></td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 491.5px;" valign="top">Indicates whether or not the search must include the current object and all children. If set to <code>false</code>, the search must include the current object only.</td>
                <td class="entry" headers="d81757e194 d81757e197 d81757e200 " style="width: 439.5px;"
                valign="top"><code>populator.searchSubtree=true</code></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="section">
          <div id="section_4" class="mt-page-section"><span id="All_Authorities_Search"></span> 
            <h2 class="editable">All Authorities Search</h2>
            <p class="p">These entries populate the Pentaho&nbsp;Server Access Control List (ACL) roles. These should be similar or identical to the Populator entries.</p>
          </div>
        </div>
        <div class="tablenoborder">
          <table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__security_ldap_properties__table_kxd_5zn_pj" rules="all" summary="">
            <thead align="left" class="thead">
              <tr class="row">
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e303" valign="top">LDAP Property</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e306" valign="top">Purpose</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e309" valign="top">Example</th>
              </tr>
            </thead>
            <tbody class="tbody">
              <tr class="row">
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top"><code>allAuthoritiesSearch.roleAttribute</code></td>
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top">The attribute used for role values</td>
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top"><code>allAuthoritiesSearch.roleAttribute=cn</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top"><code>allAuthoritiesSearch.searchBase</code></td>
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top">Base for &quot;all roles&quot; searches</td>
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top"><code>allAuthoritiesSearch.searchBase=ou= Pentaho</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top"><code>allAuthoritiesSearch.searchFilter</code></td>
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top">Filter for &quot;all roles&quot; searches. Active Directory requires that the <code>objectClass</code> value be set to <code>group</code>.</td>
                <td class="entry" headers="d81757e303 d81757e306 d81757e309 " valign="top"><code>allAuthoritiesSearch.searchFilter= (objectClass=group)</code></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="section">
          <div id="section_5" class="mt-page-section"><span id="All_User_Name_Search"></span> 
            <h2 class="editable">All User Name Search</h2>
            <p class="p">These entries populate the Pentaho Server ACL users.</p>
          </div>
        </div>
        <div class="tablenoborder">
          <table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__security_ldap_properties__table_hvl_5zn_pj" rules="all" summary="">
            <thead align="left" class="thead">
              <tr class="row">
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e378" valign="top">LDAP Property</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e381" valign="top">Purpose</th>
                <th class="entry" id="a158b95d-d774-4b30-9a4b-b19e4aef27e3__d81757e384" valign="top">Example</th>
              </tr>
            </thead>
            <tbody class="tbody">
              <tr class="row">
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top"><code>allUsernamesSearch.username Attribute</code></td>
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top">The attribute used for user values</td>
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top"><code>allUsernamesSearch.username Attribute= sAMAccountName</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top"><code>allUsernamesSearch.searchBase</code></td>
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top">Base for &quot;all users&quot; searches</td>
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top"><code>allUsernamesSearch.searchBase= CN=users</code></td>
              </tr>
              <tr class="row">
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top"><code>allUsernamesSearch.searchFilter</code></td>
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top">Filter for &quot;all users&quot; searches</td>
                <td class="entry" headers="d81757e378 d81757e381 d81757e384 " valign="top"><code>allUsernamesSearch.searchFilter= objectClass=person</code></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Connection_Information_(Context)" rel="internal">Connection Information (Context)</a>  </li>
      <li> <a href="#Users" rel="internal">Users</a>  </li>
      <li> <a href="#Populator" rel="internal">Populator</a>  </li>
      <li> <a href="#All_Authorities_Search" rel="internal">All Authorities Search</a>  </li>
      <li> <a href="#All_User_Name_Search" rel="internal">All User Name Search</a>  </li>
    </ol>
  </body>
</content>