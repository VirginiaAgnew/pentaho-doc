<content type="text/html" title="Configure the Mondrian Engine (mondrian.properties)">
  <body>
    <div>
      <div class="body conbody">
        <p class="p"><strong class="ph b">Purpose:</strong>  mondrian.properties is a configuration file referenced by the Pentaho Analysis (Mondrian) engine to determine performance and usability settings.</p>
        <p class="p"><strong class="ph b">Location:</strong>  <span class="ph filepath">/pentaho/server/pentaho-server/pentaho-solutions/system/mondrian/mondrian.properties</span> </p>
        <div class="note note"><span class="notetitle">Note:</span>  This section is specific to maximizing Mondrian performance with Pentaho Analyzer. For all available settings, see
          <a class="xref external" target="_blank" rel="external nofollow" href="http://mondrian.pentaho.com/documentation/configuration.php">http://mondrian.pentaho.com/documentation/configuration.php</a> .</div>
        <div class="section">
          <div id="section_1" class="mt-page-section"><span id="Performance"></span> 
            <h2 class="editable">Performance</h2>
            <p class="p">One of the key performance goals for Analyzer is to push as many operations to the database as possible. This is particularly important when querying many high-cardinality dimensions because you want Mondrian to only process the combinations
              that make sense and not a huge cartesian product which is sparsely populated. Pay particular attention to the following engine properties:</p> <pre class="pre codeblock">
mondrian.expCache.enable=true</pre>
            <p class="p">Improves the performance of summary numbers such as ranks and running sums.</p> <pre class="pre codeblock">
mondrian.native.crossjoin.enable=true</pre>
            <p class="p">This is an essential property which enabes pushdown to the database so that Mondrian does not perform large cross joins in memory.</p> <pre class="pre codeblock">
mondrian.native.filter.enable=true</pre>
            <p class="p">Particularly important for pushdown of Not In and Excludes filters.</p> <pre class="pre codeblock">
mondrian.native.nonempty.enable=true</pre>
            <p class="p">This should be set to false to optimize Mondrian SQL generation given the MDX patterns generated by Analyzer. Analyzer uses non-empty cross joins to push down joins between high cardinality attributes to the database. If this property is set
              to false, there are many non-empty cross joins which would get evaluated by Mondrian instead because Mondrian pushes down the individual arguments such as <strong class="ph b">dimension.members</strong> .</p> <pre class="pre codeblock">
mondrian.olap.maxConstraints=1000</pre>
            <p class="p">Used in conjunction with the <strong class="ph b">mondrian.native.ExpandNonNative</strong>  property. This should be set to as large as the underlying DB can support.</p> <pre class="pre codeblock">
mondrian.native.ExpandNonNative=true</pre>
            <p class="p">Allows pushdown of even more crossjoins by materializing the crossjoin inputs into IN lists. For example, a crossjoin whose inputs are MDX functions can first have their inputs evaluated to members and then convert the crossjoin into native
              evaluation.</p> <pre class="pre codeblock">
mondrian.olap.elements.NeedDimensionPrefix=true</pre>
            <p class="p">Analyzer always generates dimension qualified members so no need to spend time searching for members on different dimensions.</p>
          </div>
        </div>
        <div class="section">
          <div id="section_2" class="mt-page-section"><span id="Usability"></span> 
            <h2 class="editable">Usability</h2> <pre class="pre codeblock">
mondrian.result.limit=5000000</pre>
            <p class="p">In the event that pushdown cannot occur, this is the largest crossjoin size that Mondrian should try to process. Anything that exceeds this will likely send the CPU for a toss and result in long server hangs. If this limit is hit, Analyzer
              will present the user a nice warning suggesting options to simplify the report.</p> <pre class="pre codeblock">
mondrian.olap.case.sensitive=true</pre>
            <p class="p">This is important for &quot;Equals&quot; filters because the UI will preserve the casing of filter values. If the user defines a filter on &quot;John Doe&quot;, then the filter should only applies to &quot;John Doe&quot; and not &quot;john
              doe&quot;</p> <pre class="pre codeblock">
mondrian.olap.ignoreInvalidMembers=true</pre>
            <p class="p">This is important for saved reports because the user may build a report with a filter on 10 sales rep and after the next ETL, one of them is gone. The report should continue to run and return just the 9 remaining sales reps.</p> <pre class="pre codeblock">
mondrian.olap.ignoreInvalidMembersDuringQuery=true</pre>
            <p class="p">See mondrian.olap.ignoreInvalidMembers</p> <pre class="pre codeblock">
mondrian.olap.iterationLimit=5000000</pre>
            <p class="p">Similar to mondrian.result.limit except for controlling limits on aggregate evaluation.</p> <pre class="pre codeblock">
mondrian.olap.compareSiblingsByOrderKey=true</pre>
            <p class="p">This is required for sorting members in a dimension A->Z or Z->A. This property fixes a bug in Mondrian but was added for backward compatibility.</p> <pre class="pre codeblock">
mondrian.olap.NullDenominatorProducesNull=true</pre>
            <p class="p">The best way to understand this property is via an example. Suppose you want to see quota attainment for your sales reps which is computed as Booked Deals / Quota. Some reps may not have quotas and so quota attainment is either infinity or
              null. By treating divide by null as infinity, Mondrian will return these sales reps in the report. Otherwise, if divide by null evaluates to null, then Mondrian will filter those reps out (due to the NON EMPTY).</p>
          </div>
        </div>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Performance" rel="internal">Performance</a>  </li>
      <li> <a href="#Usability" rel="internal">Usability</a>  </li>
    </ol>
  </body>
</content>