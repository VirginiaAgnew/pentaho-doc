<content type="text/html" title="Start and Stop the Data Integration Server">
  <body>
    <div>
      <div class="pentaho-overview-hidden">
        <div id="section_1" class="mt-page-section"><span id="Overview"></span> 
          <h2 class="editable">Overview</h2>
        </div>
      </div>
      <div class="body taskbody">
        <div class="section context">
          <p class="p">
            <a class="thumb" title="grStepGraphicDIConfigStartandStopDIServer.png" rel="internal" href="http://help.pentaho.com/@api/deki/files/2215/grStepGraphicDIConfigStartandStopDIServer.png">
              <img alt="grStepGraphicDIConfigStartandStopDIServer.png" class="internal default" style="width: 374px; height: 142px;" width="374px" height="142px" src="http://help.pentaho.com/@api/deki/files/2215/grStepGraphicDIConfigStartandStopDIServer.png?size=bestfit&amp;width=374&amp;height=142&amp;revision=1"
              />
            </a> 
          </p>
          <p class="p">To work with Pentaho Data Integration you must have the DI server running. There may be times when you need to manage Pentaho Data Integration components, stopping the DI server to perform system maintenance and restarting it after you are done.
            As part of the Installation Wizard and Archive Installation, Pentaho provides different ways to help you start and stop the components depending on the operating system you use and the method you used for installation.</p>
          <div class="p">For Microsoft Windows, these are your options for starting and stopping the components.
            <ul class="ul">
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__windows_pentaho_installation_wizard" rel="internal" href="http://help.pentaho.com/Documentation/5.2/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__windows_pentaho_installation_wizard">Windows Pentaho Installation Wizard</a> 
              </li>
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__windows_pentaho_archive_installation" rel="internal" href="http://help.pentaho.com/Documentation/5.2/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__windows_pentaho_archive_installation">Windows Pentaho Archive Installation</a> 
              </li>
            </ul>
          </div>
          <div class="p">For Linux and Macintosh OS, these are your options for starting and stopping the components.
            <ul class="ul">
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_penatho_installation_wizard" rel="internal" href="http://help.pentaho.com/Documentation/5.2/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_penatho_installation_wizard">Linux Pentaho Installation Wizard</a> 
              </li>
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_penatho_archive_installation" rel="internal" href="http://help.pentaho.com/Documentation/5.2/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_penatho_archive_installation">Linux Pentaho Archive Installation</a> 
              </li>
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_pentaho_wizard_archive_start_on_boot" rel="internal" href="http://help.pentaho.com/Documentation/5.2/0H0/070/010/000#bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_pentaho_wizard_archive_start_on_boot">Linux Pentaho Wizard or Archive Installation&mdash;Starting on Boot</a> 
              </li>
            </ul> When you are done, please go to the next stop on the <em class="ph i">guidepost</em> .</div>
        </div>
      </div>
      <div class="related-links">&nbsp;</div>
      <div class="topic task nested1" id="bb22d351-ff8c-402b-88e8-e78ee523cb77__windows_pentaho_installation_wizard">
        <div id="section_2" class="mt-page-section"><span id="Windows_Pentaho_Installation_Wizard"></span> 
          <h2 class="editable">Windows Pentaho Installation Wizard</h2>
          <div class="body taskbody">
            <div class="section context">When you ran the Installation Wizard on Windows, the BA Server installed in a Tomcat Application server. You can manage the Tomcat and DI servers by clicking <span class="ph uicontrol">Start</span>  > <span class="ph uicontrol">Pentaho Enterprise Edition</span>               > <span class="ph uicontrol">Server Management</span>  and then selecting from these menu items.
              <ul class="ul">
                <li class="li">Start the DI Server</li>
                <li class="li">Stop the DI Server</li>
              </ul>
              <p class="p">The wizard also registered the DI Server and the PostgreSQL solution repository as services. These services are set to run automatically, enabling them to start and stop when the computer running them boots or shuts down. You can use the
                Windows Services applet found in the Control Panel to start and stop the Pentaho servers and the solution repository.</p>
            </div>
            <ol class="ol steps">
              <li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Start</span>  > <span class="ph uicontrol">Control Panel</span>  > <span class="ph uicontrol">Administrative Tools</span>  > <span class="ph uicontrol">Services</span> . </span> 
              </li>
              <li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Services</span>  window, right-click one of these services in the list and choose <span class="ph uicontrol">Start</span>  or <span class="ph uicontrol">Stop</span>  from the menu that
                appears.</span> 
                <ul class="ul">
                  <li class="li">Data Integration</li>
                  <li class="li">Pentaho Solution Repository</li>
                </ul>
              </li>
            </ol>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="bb22d351-ff8c-402b-88e8-e78ee523cb77__windows_pentaho_archive_installation">
        <div id="section_3" class="mt-page-section"><span id="Windows_Pentaho_Archive_Installation"></span> 
          <h2 class="editable">Windows Pentaho Archive Installation</h2>
          <div class="body taskbody">
            <div class="section context">
              <p class="p">If you used the Archive Installation, we provide individual control scripts to start and stop the DI server, and DI repository. Here is where you can find the individual control scripts.</p>
              <p class="p"><strong class="ph b">DI Repository</strong> </p>
              <ul class="ul">
                <li class="li">The Archive Installation enables you to install PostgreSQL, MySQL, or Oracle as the solution repository. Consult the third-party documentation for the RDBMS to find more information about starting and stopping.
                  <p class="p">The solution repository must be started before the DI Server.</p>
                </li>
              </ul>
              <p class="p"><strong class="ph b">DI Server</strong> </p>
              <ul class="ul">
                <li class="li"><span class="ph filepath">/pentaho/server/data-integration-server</span> </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_penatho_installation_wizard">
        <div id="section_4" class="mt-page-section"><span id="Linux_and_Macintosh_OS_Pentaho_Installation_Wizard"></span> 
          <h2 class="editable">Linux and Macintosh OS Pentaho Installation Wizard</h2>
          <div class="body taskbody">
            <div class="section context">
              <p class="p">When you ran the Installation Wizard on Linux, the DI Server was deployed in an included Apache Tomcat application server. You can control the Tomcat server using the start and stop scripts that come with the Pentaho installation. This script
                is also used as an easy way to start and stop the DI Server and the PostgreSQL repository. You can find this script at <span class="ph filepath">/pentaho/ctlscript.sh</span> .</p>
              <p class="p">Here is a list of the script arguments you can use with the <code class="ph codeph">data-integration-server</code> service.</p> <strong class="ph b">Arguments</strong> 
              <ul class="ul">
                <li class="li">start</li>
                <li class="li">stop</li>
                <li class="li">restart</li>
                <li class="li">status</li>
                <li class="li">help</li>
              </ul>
            </div>
            <div class="example"> <pre class="pre codeblock">
<code class="ph codeph">./ctlscript.sh start data-integration-server</code></pre> <pre class="pre codeblock">
<code class="ph codeph">./ctlscript.sh status data-integration-server</code></pre> <pre class="pre codeblock">
<code class="ph codeph">./ctlscript.sh help</code></pre> </div>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_penatho_archive_installation">
        <div id="section_5" class="mt-page-section"><span id="Linux_and_Macintosh_OS_Pentaho_Archive_Installation"></span> 
          <h2 class="editable">Linux and Macintosh OS Pentaho Archive Installation</h2>
          <div class="body taskbody">
            <div class="section context">
              <p class="p">If you used the Archive Installation, Pentaho provides individual control scripts to start and stop the Pentaho Tomcat application server, the DI Server, and the PostgreSQL server. Here is where you can find the individual control scripts.</p>
              <p class="p"><strong class="ph b">DI Repository</strong> </p>
              <ul class="ul">
                <li class="li">The Archive Installation enables you to install either PostgreSQL, MySQL, or Oracle as the solution repository. Consult the documentation for the RDBMS you selected for information about starting and stopping.
                  <p class="p">The solution repository must be started before the DI Server.</p>
                </li>
              </ul>
              <p class="p"><strong class="ph b">DI Server </strong> </p>
              <ul class="ul">
                <li class="li"><span class="ph filepath">pentaho/server/data-integration-server/start-pentaho.sh and stop-pentaho.sh</span> </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="bb22d351-ff8c-402b-88e8-e78ee523cb77__linux_pentaho_wizard_archive_start_on_boot">
        <div id="section_6" class="mt-page-section"><span id="Linux_and_Macintosh_OS_Pentaho_Wizard_or_Archive_Installation.E2.80.94Starting_on_Boot"></span> 
          <h2 class="editable">Linux and Macintosh OS Pentaho Wizard or Archive Installation&mdash;Starting on Boot</h2>
          <div class="body taskbody">
            <div class="section context">Because the Installation Wizard and the Archive Installation do not provide a way to start the DI repository and DI Server automatically on boot or shut-down, here are examples of how you might approach creating a script to do this.
              <p class="p">This procedure assumes that you are running the DI Server under the <code class="ph codeph">pentaho</code> local user account. If you are using a different account to start these services, substitute it in the script in step 2. This script
                also assumes you are using the PostgreSQL solution repository. Where <code class="ph codeph">postgrtesql</code> appears in this script, change it to reflect the RDBMS you are using as a solution repository, either MySQL or Oracle. This
                script was tested on Red Hat Enterprise Linux. You may have to modify the details of the script if you use a different distribution of Linux or other Unix-like operating system, different shells, or different <span class="ph filepath">init</span>                 systems.</p>
            </div>
            <ol class="ol steps">
              <li class="li step"><span class="ph cmd">With root permissions, create a file in <span class="ph filepath">/etc/init.d/</span>  named <span class="ph filepath">pdi</span> .</span> 
              </li>
              <li class="li step"><span class="ph cmd">Using a text editor, copy the following content into the new pentaho script, changing <code class="ph codeph">postgresql</code> to the name of the <span class="ph filepath">init</span>  script for your database, if it
                is running on the remote machine, or remove <code class="ph codeph">postgresql</code> entirely if you are using a remote database. You may also have to adjust the paths to the DI Server scripts to match your situation.</span>  <pre class="pre codeblock">
#!/bin/sh
### BEGIN INIT INFO
# Provides: start-data-integration-server stop-data-integration-server
# Required-Start: networking postgresql
# Required-Stop: postgresql
# Default-Start: 2 3 4 5
# Default-Stop: 0 1 6
# Description: Pentaho DI Server
### END INIT INFO
case &quot;$1&quot; in
&quot;start&quot;)
su - pentaho -c &quot;/home/pentaho/pentaho/server/data-integration-server/start-pentaho.sh&quot;
;;
&quot;stop&quot;)
su - pentaho -c &quot;/home/pentaho/pentaho/server/data-integration-server/stop-pentaho.sh&quot;
;;
*)
echo &quot;Usage: $0 { start | stop }&quot;
;;
esac
exit 0</pre> </li>
              <li class="li step"><span class="ph cmd">Save the file and close the text editor.</span> </li>
              <li class="li step"><span class="ph cmd">Open <span class="ph filepath">/home/pentaho/pentaho/server/data-integration-server/start-pentaho.sh</span>  with a text editor.</span> 
              </li>
              <li class="li step"><span class="ph cmd">Change the last <code class="ph codeph">if</code> statement to match the this example.</span>  <pre class="pre codeblock">
if [ &quot;$?&quot; = 0 ]; then
  cd &quot;$DIR/tomcat/bin&quot;
  export CATALINA_OPTS=&quot;-Xms2048m -Xmx2048m -XX:MaxPermSize=2048m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000&quot;
  env JAVA_HOME=$_PENTAHO_JAVA_HOME sh ./startup.sh
fi</pre> </li>
              <li class="li step"><span class="ph cmd">Save the file and close the text editor.</span> </li>
              <li class="li step"><span class="ph cmd">Make the <span class="ph filepath">init</span>  script executable.</span>  <pre class="pre codeblock">
chmod +x /etc/init.d/pentaho</pre> </li>
              <li class="li step"><span class="ph cmd">Add the pentaho <span class="ph filepath">init</span>  script to the standard run levels by using the <code class="ph codeph">update-rc.d </code>command, so that it runs when the system starts, and stops when the system
                is shut down or rebooted.</span>  This command may not exist on your computer if it is not Debian-based. If that is the case, consult your distribution documentation or contact your distribution's support department to determine how to
                add <span class="ph filepath">init</span>  scripts to the default run levels. <pre class="pre codeblock">
update-rc.d pentaho defaults</pre> </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Overview" rel="internal">Overview</a>  </li>
      <li> <a href="#Windows_Pentaho_Installation_Wizard" rel="internal">Windows Pentaho Installation Wizard</a>  </li>
      <li> <a href="#Windows_Pentaho_Archive_Installation" rel="internal">Windows Pentaho Archive Installation</a>  </li>
      <li> <a href="#Linux_and_Macintosh_OS_Pentaho_Installation_Wizard" rel="internal">Linux and Macintosh OS Pentaho Installation Wizard</a>  </li>
      <li> <a href="#Linux_and_Macintosh_OS_Pentaho_Archive_Installation" rel="internal">Linux and Macintosh OS Pentaho Archive Installation</a>  </li>
      <li> <a href="#Linux_and_Macintosh_OS_Pentaho_Wizard_or_Archive_Installation.E2.80.94Starting_on_Boot" rel="internal">Linux and Macintosh OS Pentaho Wizard or Archive Installation&mdash;Starting on Boot</a>  </li>
    </ol>
  </body>
</content>