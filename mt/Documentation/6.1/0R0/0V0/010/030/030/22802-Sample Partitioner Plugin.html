<content type="text/html" title="Sample Partitioner Plugin">
  <body>
    <div class="body conbody">
      <p class="p">The sample Partitioner plugin project is designed to show a minimal functional implementation of a partitioner plugin that you can use as a basis to develop your own custom plugins.</p>
      <p class="p">The sample Partitioner plugin distributes rows to partitions based on the value of a string field, or more precisely the string length. The sample shows a partitioner executing on five partitions, assigning longer strings to higher partition numbers.&nbsp;</p>
      <p class="p">Follow these steps in order to build and deploy the sample plugin.</p>
      <div class="p">
        <ol class="pentaho-list-ordered" id="d7d16256-594d-4683-a50d-a1dccf1380f2__sample_partitioner_plugin__ol_mnp_zpq_ck">
          <li class="li">Obtain the Sample Plugin Source
            <p class="p">The plugin source is available in the
              <a class="xref" title="Get Started" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0R0/0V0/000">download package</a> . Download the package and unzip it. The partitioner plugin resides in the <span class="ph filepath">kettle-sdk-partitioner-plugin</span>  folder.</p>
          </li>
          <li class="li">Configure the Build
            <p class="p">Open <span class="ph filepath">kettle-sdk-partitioner-plugin/build/build.properties</span>  and set the <code class="ph codeph">kettle-dir</code> property to the base directory of your PDI installation.</p>
          </li>
          <li class="li">Build and Deploy
            <p class="p">You may choose to build and deploy the plugin from the command line, or work with the Eclipse IDE instead. Both options are described below.</p>
            <div class="p">
              <ul class="ul" id="d7d16256-594d-4683-a50d-a1dccf1380f2__sample_partitioner_plugin__ul_plt_hqq_ck">
                <li class="li">
                  <p class="p">Build and Deploy From the Command Line</p>
                  <p class="p">The plugin is built using
                    <a class="xref external" target="_blank" rel="external nofollow" href="http://ant.apache.org/">Apache Ant</a> . Build and deploy the plugin from the command line by invoking the install target from the build directory.&nbsp;</p> <pre class="pre codeblock">
kettle-sdk-partitioner-plugin $ cd build
build $ ant install</pre>
                  <p class="p">The install target compiles the source, creates a <span class="ph filepath">jar</span>  file, creates a plugin folder, and copies the plugin folder into the <span class="ph filepath">plugins/steps</span>  directory of your PDI installation.</p>
                </li>
                <li class="li">
                  <p class="p">Build and Deploy From Eclipse</p>
                  <p class="p">Import the plugin sources into Eclipse:</p>
                  <ol class="ol" id="d7d16256-594d-4683-a50d-a1dccf1380f2__sample_partitioner_plugin__ol_h4p_zpq_ck" type="a">
                    <li class="li">From the menu, select <span class="ph uicontrol">File</span>  > <span class="ph uicontrol"> Import</span>  > <span class="ph uicontrol">Existing Projects Into Worksapace</span> .</li>
                    <li class="li">Browse to the <span class="ph filepath">kettle-sdk-partitioner-plugin</span>  folder and choose the project to be imported.&nbsp;</li>
                  </ol>
                  <div class="p">To build and install the plugin, follow these steps:
                    <ol class="ol" type="a">
                      <li class="li">Open the Ant view in Eclipse by selecting <span class="ph uicontrol">Window</span>  > <span class="ph uicontrol">Show View</span>  from the main menu and select <span class="ph uicontrol">Ant</span> .
                        <p class="p">You may have to select <span class="ph uicontrol">Other</span>  > <span class="ph uicontrol">Ant</span>  if you have not used the Ant view before.</p>
                      </li>
                      <li class="li">Drag the file <span class="ph filepath">build/build.xml</span>  from your project into the Ant view, and execute the install target by double-clicking it.</li>
                      <li class="li">After the plugin has been deployed, restart Spoon.</li>
                    </ol>
                  </div>
                </li>
              </ul>
            </div>
          </li>
          <li class="li">You can test the new plugin using the transformation from the <span class="ph filepath">demo_transform</span>  folder.</li>
        </ol>
      </div>
      <br />
      <img alt="screenshot_partitioning2.png" class="internal default" style="width: 550px; height: 534px;" width="550px" height="534px" src="http://help.pentaho.com/@api/deki/files/8268/screenshot_partitioning2.png?size=bestfit&amp;width=550&amp;height=534&amp;revision=1"
      />
    </div>
  </body>
  <body target="toc"><em>No headers</em> </body>
</content>