<content type="text/html" title="Retrieving Data from Your Lookup File">
  <body>
    <div>
      <div class="pentaho-overview-hidden">
        <div id="section_1" class="mt-page-section"><span id="Overview"></span> 
          <h2 class="editable">Overview</h2>
          <p>Explains how to retrieve data from a lookup file.</p>
        </div>
      </div>
      <div class="body taskbody">
        <div class="section context">&nbsp;</div>
        <div class="section context">After you
          <a class="xref" title="Loading Your Data into a Relational Database" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0J0/0C0/020/020">Load Your Data into a Relational Database</a>, you are ready to retrieve data from your lookup file. You have been provided a second text file containing a list of cities, states, and postal codes that you will now use to look up the postal
          codes for all of the records where they were missing (the &lsquo;false&rsquo; branch of your Filter rows step). First, you will use a Text file input step to read from the source file, then you will use a Stream lookup step to bring the resolved
          Postal Codes into the stream.</div>
        <ol class="ol steps">
          <li class="li step"><span class="ph cmd">Add a new <strong><span class="ph uicontrol">Text File Input</span>  </strong> step to your transformation. In this step you will retrieve the records from your lookup file. &nbsp;Do not add a hop yet.</span> 
          </li>
          <li class="li step"><span class="ph cmd">Open the <strong>Text File Input </strong> step window, then enter&nbsp;<strong><span class="ph uicontrol">Read Postal Codes&nbsp;</span> </strong> in the&nbsp;<span class="ph uicontrol"><strong>Step name</strong> </span> &nbsp;window.</span> 
          </li>
          <li class="li step"><span class="ph cmd">Click <strong class="ph b">Browse</strong>  to locate the source file, <span class="filepath style-wrap"><span class="ph uicontrol">Zipssortedbycitystate.csv</span> </span>, located at <code class="ph codeph">...\design-tools\data-integration\samples\transformations\files</code>.
            &nbsp;</span> 
          </li>
          <li class="li step"><span class="ph cmd">Click <strong class="ph b">Add</strong> . </span>  The path to the file appears under&nbsp;<strong><span class="ph uicontrol">Selected files</span> </strong> .</li>
          <li class="li step">To look at the contents of the sample file:
            <ol start="1">
              <li class="li step">Click the&nbsp;<strong>Content&nbsp;</strong> tab, then set the&nbsp;<strong>Format&nbsp;</strong> field to&nbsp;<strong>Unix</strong> &#8203;. &nbsp;</li>
              <li class="li step">Click the&nbsp;<strong>File&nbsp;</strong> tab again and click the&nbsp;<strong class="ph b">Show file content&nbsp;</strong> near the bottom of the window. &nbsp;</li>
              <li class="li step">The&nbsp;<strong>Nr of lines to view&nbsp;</strong> window appears. &nbsp;Click the&nbsp;<strong>OK&nbsp;</strong> button to accept the default.</li>
              <li class="li step">The&nbsp;<strong>Content of first file&nbsp;</strong> window displays the file. &nbsp;Examine the file to see how that input file is delimited, what enclosure character is used, and whether or not a header row is present. In the example,
                the input file is comma (,) delimited, the enclosure character being a quotation mark (&ldquo;) and it contains a single header row containing field names.</li>
              <li class="li step">Click the&nbsp;<strong>Close&nbsp;</strong> button to close the window.</li>
            </ol>
          </li>
          <li class="li step"><span class="ph cmd">In the <strong><span class="ph uicontrol">Content</span>  </strong> tab, change the <strong>Separator </strong> character to a comma (,). and confirm that the <strong>Enclosure </strong> setting is a quotation mark (&quot;).
            &nbsp; Make sure the <strong><span class="ph uicontrol">Header</span> </strong>  option is selected.</span> 
          </li>
          <li class="li step"><span class="ph cmd">Under the <span class="ph uicontrol">Fields</span>  tab, click <strong><span class="ph uicontrol">Get Fields</span> </strong>  to retrieve the data from your .csv file. </span> 
          </li>
          <li class="li step"><span class="ph cmd">The&nbsp;<strong>Nr of lines to sample</strong> &nbsp;window appears. Enter 0 in the field, then click <strong>OK.</strong> </span> </li>
          <li class="li step"><span class="ph cmd">If the <strong>Scan Result</strong>  window displays, click <strong>OK</strong>  to close it.</span> </li>
          <li class="li step"><span class="ph cmd">Click <strong><span class="ph uicontrol">Preview rows</span>  </strong> to make sure your entries are correct. &nbsp;When prompted to enter the preview size, click <strong>OK</strong> . &nbsp;Review the information in the window,
            then click <strong>Close.</strong> </span> 
          </li>
          <li class="li step"><span class="ph cmd">Click&nbsp;<strong class="ph b">OK</strong>  to exit the <strong>Text File input</strong>  window.</span> </li>
          <li class="li step"><span class="ph cmd">Save the&nbsp;transformation.</span> </li>
        </ol>
      </div>
      <div class="related-links">&nbsp;</div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Overview" rel="internal">Overview</a>  </li>
    </ol>
  </body>
</content>