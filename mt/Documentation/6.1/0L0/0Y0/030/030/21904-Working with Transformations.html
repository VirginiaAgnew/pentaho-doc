<content type="text/html" title="Working with Transformations">
  <body>
    <div class="pentaho-overview-hidden">
      <div id="section_1" class="mt-page-section"><span id="Overview"></span> 
        <h2 class="editable">Overview</h2>
        <p>Explains how to create and save a transformation. Also explains how to build a job.</p>
      </div>
    </div>
    <div class="body">
      <p class="p">This section explains how to create and save a transformation. &nbsp;See&nbsp;
        <a class="xref" title="Get Started with DI" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0J0/0C0">Getting Started with PDI </a> for a comprehensive, &quot;real world&quot; exercise for creating, running, and scheduling transformations and jobs. See&nbsp;
        <a title="Run a Transformation" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/030/030/010">Running&nbsp;a Transformation</a> &nbsp;for how to execute a transformation.</p>
      <div id="section_2" class="mt-page-section"><span id="Create_a_Transformation"></span> 
        <h2 class="editable">
          <a id="createTrans" name="createTrans"></a> Create a&nbsp;Transformation</h2>
        <div class="body taskbody">
          <div class="section context">
            <p class="p">Follow these instructions to create&nbsp;your transformation.</p>
          </div>
          <ol class="pentaho-list-ordered">
            <li class="li step">Click <strong>File > New > Transformation</strong>  or hold&nbsp;down the <strong>CTRL+N</strong>  keys.</li>
            <li class="li step"><span class="ph cmd">Go to&nbsp;the&nbsp;<strong><a class="xref" rel="internal" title="Access Spoon" href="/Documentation/6.1/0H0/070/010/020#Data_Integration_Perspective"> <span class="ph b">Design</span>  </a> &nbsp;</strong> tab. &nbsp;Expand
              the folders or use the&nbsp;<strong>Steps&nbsp;</strong> field to&nbsp;search for a specific&nbsp;steps. &nbsp;</span> 
            </li>
            <li class="li step">Either drag a step to the Spoon canvas or double-click it. &nbsp;</li>
            <li class="li step">Double-click the step to open its properties window. &nbsp;For help on filling out the window, click the&nbsp;<strong>Help&nbsp;</strong> button that is available in each step.</li>
            <li class="li step">To add another step, either&nbsp;drag the step to the Spoon canvas or double-click it. &nbsp;</li>
          </ol>
          <ul class="pentaho-list-unordered" style="margin-left: 40px;">
            <li class="li step">If you drag the step to the canvas, you can add a hop by pressing&nbsp;the <strong>SHIFT&nbsp;</strong> key and drawing a hop from one step to the other.</li>
            <li class="li step">If you double-click it, the step appears on the canvas with a hop already connected&nbsp;to your previous step. &nbsp;</li>
          </ul>
          <ol class="pentaho-list-ordered" start="6">
            <li class="li step"><span class="ph cmd"><span class="ph cmd">When finished, save the transformation. See&nbsp;<a title="Working with Transformations" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/030/030#saveLocal">Save A Transformation Locally</a>  or <a title="Working with Transformations" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/030/030#saveRemotely">Save a Transformation Remotely</a>  for more details.</span> </span> 
            </li>
          </ol>
          <div id="section_3" class="mt-page-section"><span id="Adjust_Transformation_Properties"></span> 
            <h2 class="editable">
              <a id="adjustTrans" name="adjustTrans"></a> Adjust Transformation Properties</h2>
            <p>You can adjust the parameters, logging options, dates, dependencies, monitoring, settings,&nbsp;and data services for transformations. &nbsp;To view the transformation properties, click the <strong>CTRL+T&nbsp;</strong> or&nbsp;&nbsp;right-click
              on the canvas and select&nbsp;<strong>Transformation settings&nbsp;</strong> from the menu that appears.</p>
          </div>
          <div id="section_4" class="mt-page-section"><span id="Save_a_Transformation_Locally"></span> 
            <h2 class="editable">
              <a id="saveLocal" name="saveLocal"></a> Save&nbsp;a Transformation Locally</h2>
            <div class="body taskbody">
              <div class="section context">
                <p class="p">Follow these instructions to save a transformation locally on your file system.</p>
                <ol class="pentaho-list-ordered">
                  <li class="p">In Spoon, select <strong>File > Save</strong> .</li>
                  <li class="p">Enter the transformation name in the&nbsp;<strong>Save As</strong> &nbsp;window and select the location.</li>
                  <li class="p">Click <strong>OK</strong> . &nbsp;The transformation is saved.</li>
                </ol>
                <div id="section_5" class="mt-page-section"><span id="Save_a_Transformation_Remotely"></span> 
                  <h2 class="editable">
                    <a id="saveRemotely" name="saveRemotely"></a> Save a Transformation Remotely</h2>
                  <p>Follow these instructions to save a transformation remotely on the DI Server.</p>
                </div>
              </div>
              <ol class="pentaho-list-ordered">
                <li class="li step"><span class="ph cmd">Connect to a repository.</span> </li>
                <li class="li step"><span class="ph cmd">In Spoon, click <strong class="ph b">File</strong>  > <strong class="ph b">Save As</strong> .</span>  The <strong class="ph b">Transformation Properties</strong>  window appears.</li>
                <li class="li step"><span class="ph cmd">In the&nbsp;<strong class="ph b">Transformation Name</strong>  field, enter the transformation name.</span> </li>
                <li class="li step"><span class="ph cmd">In the <strong class="ph b">Directory</strong>  field, click the <strong class="ph b">Folder Icon</strong>  to select a repository folder where you will save your transformation.</span> </li>
                <li class="li step"><span class="ph cmd">Click <strong class="ph b">OK</strong>  to exit the <strong class="ph b">Transformation Properties</strong>  dialog box.</span>  The <strong class="ph b">Enter Comment</strong>  dialog box appears.</li>
                <li class="li step">Enter a comment, then click<span class="ph cmd">&nbsp;<strong class="ph b">OK</strong> . &nbsp;The transformation is saved.</span> </li>
              </ol>
            </div>
            <div id="section_6" class="mt-page-section"><span id="Open_a_Transformation"></span> 
              <h2 class="editable">
                <a id="openTrans" name="openTrans"></a> Open a Transformation</h2>
              <p>Follow these instructions to open a transformation.</p>
              <ol class="pentaho-list-ordered">
                <li class="p">In Spoon, select <strong>File > Open</strong> .</li>
                <li class="p">If you are opening a file from the repository, select the file from the&nbsp;<strong>Select a Repository Object&nbsp;</strong> window, then click&nbsp;<strong>OK</strong> . &nbsp;Otherwise, select the file from&nbsp;the <strong>Open</strong> &nbsp;window,
                  then click <strong>OK</strong> .</li>
                <li class="p">The transformation appears on the canvas.</li>
              </ol>
              <p class="pentaho-note">If you get a message indicating that a plugin is missing, see the
                <a title="Fix Transformation and Job Problems" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0P0/180/070">Fix Transformation and Job Problems</a> &nbsp;section for more details.</p>
            </div>
            <div id="section_7" class="mt-page-section"><span id="Using_the_Transformation_Menu"></span> 
              <h2 class="editable">
                <a id="transMenu" name="transMenu"></a> Using the Transformation Menu</h2>
              <p>Right-click the transformation canvas to view the transformation menu.</p>
              <table border="1" cellpadding="0" cellspacing="0" class="pentaho-table" title="Pentaho Table">
                <tbody>
                  <tr>
                    <th class="pentaho-table-column-subheader" style="width: 144px; height: 17px;" title="Pentaho column sub-header">Menu Item</th>
                    <th class="pentaho-table-column-subheader" style="width: 479px; height: 17px;" title="Pentaho column sub-header">Description</th>
                  </tr>
                  <tr>
                    <td style="width: 144px; height: 17px;">New Hop</td>
                    <td style="width: 479px; height: 17px;">Creates a new hop.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Open Referenced Object</td>
                    <td style="width: 479px;">Allows you to map a sub-transformation. &nbsp;Mapping a sub-transformation is covered in detail in the
                      <a title="https://help.pentaho.com/Documentation/6.0/0L0/0Y0/030/095" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/030/095">Reusing&nbsp;Transformation Mapping Flows Between Steps</a> .</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Edit ...</td>
                    <td style="width: 479px;">Shows the configuration window for the step or transformation.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Description ...</td>
                    <td style="width: 479px;">Allows you to add a description to the step.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Data Movement</td>
                    <td style="width: 479px;">Describes the way data moves through the transformation when there is more than one hop. There are three options:
                      <ul class="pentaho-list-unordered">
                        <li>Round Robin - Partitions the output stream and sends a portion of all output records down each hop.</li>
                        <li>
                          <p>Load Balance - checks the output row sets to see how much room is left in the buffer.&nbsp; It selects the one that is most empty.&nbsp; If the rows are distributed to steps that take very little processing time per row (or the
                            exact same amount of time for each step to process a row), Load Balancing is identical to Round Robin.&nbsp;But if rows are sent down one path that takes a long time to process, such as Sort or Group By and down another path
                            that processes rows more quickly, the &quot;quick path&quot; will likely have more rows sent to it, as it will empty its buffer before the &quot;slow path&quot; has a chance to empty its buffer.&nbsp; This is typically used
                            for clustered transformations, where the same processing occurs on different nodes. The row buffer is set, by default, to 100000.&nbsp; To change the row buffer size, open the Transformation Settings window, then select Miscellaneous
                            > Number of Rows.</p>
                        </li>
                        <li>Copy Data to Next Steps - Copies the data to subsequent steps.</li>
                      </ul>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Change Number of Copies to Start</td>
                    <td style="width: 479px;">Starts several instances of a step in parallel.&nbsp;</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Copy</td>
                    <td style="width: 479px;">Copies selected items to the clipboard.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Duplicate</td>
                    <td style="width: 479px;">Makes a copy of the selected items, then pastes them to the canvas.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Delete</td>
                    <td style="width: 479px;">Deletes selected items from the canvas.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Hide</td>
                    <td style="width: 479px;">Hides the step or entry from the Spoon canvas.&nbsp; Caution: if you hide the step or entry, you will need to open the transformation or job XML file and hand edit it to view it again.&nbsp; For more details, see the
                      <a title="Fix Transformation and Job Problems"
                      rel="internal" href="http://help.pentaho.com/Documentation/6.1/0P0/180/070">troubleshooting </a> section.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Detach</td>
                    <td style="width: 479px;">Detach the step or entry from the transformation or job.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Input Fields</td>
                    <td style="width: 479px;">Shows metadata, like the field name and type, for fields that come into the step.&nbsp;</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Output Fields</td>
                    <td style="width: 479px;">Shows metadata, like the field name and type, for fields that go out of the step.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Sniff Test During Execution</td>
                    <td style="width: 479px;">The sniff test displays data as it travels from one step to another in the stream.&nbsp;&nbsp; To use this, right-click a step in the transformation as it runs and select <strong>Sniff Test During Execution</strong> .&nbsp; There are
                      three options in this menu:
                      <ul>
                        <li>Sniff test input rows - Shows the data inputted into the step.</li>
                        <li>Sniff test output rows - Shows the data outputted from the step.</li>
                        <li>Sniff test error handling - Shows error handling data.</li>
                      </ul>
                      <p>For more information on how to use this tool, see the
                        <a title="https://help.pentaho.com/Documentation/6.0/0L0/0Y0/030/060/000" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/030/060/000">Sniff Test Tool</a>  article.</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Check Selected Step(s)</td>
                    <td style="width: 479px;">Checks transformation steps for problems that could interfere with successfully running the transformation.&nbsp; Right-click the transformation step that you want to check and click Check Selected Step(s).&nbsp; Warnings and errors
                      appear in the <strong>Results of transformation checks</strong>  window.&nbsp; &nbsp;&nbsp;&nbsp;</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Error Handling</td>
                    <td style="width: 479px;">Indicates how to apply error handling for a step.&nbsp; When this is selected, the <strong>Step error handling settings </strong> window appears.</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Preview</td>
                    <td style="width: 479px;">Allows you to preview the results of the transformation.&nbsp; Launches the <strong>Transformation Debug Dialog</strong> .&nbsp;</td>
                  </tr>
                  <tr>
                    <td style="width: 144px; height: 311px;">Align/Distribute</td>
                    <td style="width: 479px; height: 311px;">Arranges steps or entries on the canvas so that they are aligned properly or distributed evenly.&nbsp; This helps create a visually pleasing transformation or job that is easier to read and digest.
                      <p><em>Align</em>  refers to where the steps or entries are permitted along the x (horizontal) or y (vertical) axis.&nbsp;&nbsp; <em>Distribute</em>  makes the horizontal and vertical spacing between steps or entries consistent.&nbsp;&nbsp;
                        Typically, you turn on the grid, then move the different steps or entries on the canvas so that they form some sort of pattern, like a straight or branching line.&nbsp; Then you select steps or entries and apply the following options
                        as needed.</p>
                      <ul>
                        <li>Align Left - Positions all steps or entries so their left sides start on the same &quot;x&quot; (horizontal) coordinate as the left-most step or entry.&nbsp; After applied, steps or entries are arranged in a straight vertical line.&nbsp;
                          No changes are made to the spaces between steps or entries.</li>
                        <li>Align Right -&nbsp; Positions all steps or entries so their right sides start on the same &quot;x&quot; (horizontal) coordinate as the right-most step or entry.&nbsp; After applied, steps or entries are arranged in a straight vertical
                          line.&nbsp; No changes are made to the spaces between steps or entries.</li>
                        <li>Align Top-&nbsp; Positions all steps or entries so their top sides start on the same &quot;y&quot; (horizontal) coordinate as the step or entry positioned closest to the top of the canvas.&nbsp; After applied, steps or entries
                          are arranged in a straight horizontal line. No changes are made to the spaces between steps or entries.</li>
                        <li>Align Bottom-&nbsp; Positions all steps or entries so their bottom sides start on the same &quot;y&quot; (horizontal) coordinate as the step or entry positioned closest to the bottom of the canvas.&nbsp; After applied, steps or
                          entries are arranged in a straight horizontal line. No changes are made to the spaces between steps or entries.</li>
                        <li>Distribute Horizontally - Positions all steps or entries so that they are evenly spaced horizontally.&nbsp; After applied, steps or entries are arranged evenly.&nbsp; No changes are made to the alignment.</li>
                        <li>Distribute Vertically - Positions all steps or entries so that they are evenly spaced vertically.&nbsp; After applied, steps or entries are arranged evenly. No changes are made to the alignment.</li>
                        <li>Snap to Grid - Aligns steps or entries on the canvas to the grid.&nbsp; If grid markers do not appear on the canvas, select <strong>Tools > Options > Look &amp; Feel > Show Canvas Grid</strong> .&nbsp; See
                          <a title="Customizing the Spoon Interface"
                          rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/030/020">Customize Spoon Options</a> &nbsp;for more information on how to &nbsp;customize Spoon.</li>
                      </ul>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Data Services</td>
                    <td style="width: 479px;">Allows you to create, edit, delete, or test a Pentaho Data Service.&nbsp; The Pentaho Data Service allows others to obtain the results of a transformation, even if the person does not have the Spoon or DI Server installed.&nbsp; The
                      Pentaho Data Service is discussed in great detail in
                      <a title="Turn a Transformation into a Pentaho Data Service (Draft)" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/090">Turn a Transformation into a Data Service</a> .</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Mapping &hellip;</td>
                    <td style="width: 479px;">Provides a way for you to map target fields from the step to source columns in a database. When this option is clicked the <strong>Mapping </strong> window appears that contains these fields:
                      <ul>
                        <li><strong>Source Fields</strong>  lists the field names from the incoming stream.</li>
                        <li><strong>Target Fields</strong>  lists the column names in a target table.</li>
                        <li><strong>Auto Target Selection</strong>  automatically selects a matching table column if the target field is selected.</li>
                        <li><strong>Auto Source Select</strong>  automatically selects a matching target field if the table column is selected.</li>
                        <li><strong>Add</strong>  button allows you to move the mapped target and source information to the mappings grid.</li>
                        <li><strong>Guess</strong>  button makes mappings based on a computer algorithm.&nbsp;</li>
                        <li><strong>Hide assigned source fields</strong>  and <strong>Hide assigned target fields</strong>  removes mappings from the <strong>Source Fields</strong>  and <strong>Target Fields</strong>  lists those fields are added to the mapping
                          grid.</li>
                        <li><strong>Delete</strong>  button removes mappings from the mapping grid so that they reappear in the <strong>Target Fields</strong>  and <strong>Source Fields</strong>  lists again.</li>
                      </ul>
                      <p>When you click <strong>OK</strong>, the <strong>Mapping </strong> window closes and a <strong>Select / Rename Values </strong> step appears on the canvas.&nbsp; (It is usually named after the step that right-clicked.)&nbsp; The <strong>Select/Rename Values </strong> window
                        contains the mappings.&nbsp; If you weren't able to make mappings, the step still appears, but the properties are blank.</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Partitions&hellip;</td>
                    <td style="width: 479px;">Partitions split data into subsets according to a rule that is applied on a row of data.&nbsp; Partitions are discussed in detail in the
                      <a class="external" title="https://help.pentaho.com/Documentation/6.0/0L0/0Y0/085" rel="internal"
                      href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/085">Partitions article</a> .</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">Clusters &hellip;</td>
                    <td style="width: 479px;">Clusters allow you to create Carte Clusters.&nbsp; For more information, see
                      <a title="Use Carte Clusters to Run Transformations and Jobs" rel="internal" href="http://help.pentaho.com/Documentation/6.1/0L0/0Y0/060">Use Carte Clusters to Run Transformations and Jobs</a> .&nbsp;</td>
                  </tr>
                  <tr>
                    <td style="width: 144px;">
                      <p>Model</p>
                    </td>
                    <td style="width: 479px;">Generates a model of the data in your transformation.&nbsp; The data should have a dimension or a measure.&nbsp; Right-click on a step or entry that has data that can be modeled, such as the <strong>Table Output</strong>  step.&nbsp;
                      The data appears in Pentaho Metadata Editor.</td>
                  </tr>
                  <tr>
                    <td>Visualize</td>
                    <td>Generates a visualization of the data in your transformation.&nbsp; Right-click on a step or entry that has data that can be visualized, such as the <strong>Table Output</strong>  step.&nbsp;&nbsp; Two sub-options appear when this menu
                      option is selected:
                      <ul>
                        <li>Analyzer - Visualizes the data in Analyzer, which is an analytic visualization tool that allows you to filter and drill down into your data.&nbsp; For more information on Analyzer, see Get Started with Analyzer Reports and Use
                          Pentaho Analyzer.</li>
                        <li>Report Wizard - Starts the Report Design Wizard, which configures a visualization of the data in Pentaho Report Designer.&nbsp; Report Designer is a report creation tool that allows you to create highly detailed, print-quality
                          reports.&nbsp; For more information on Pentaho Report Designer, see Getting Started with Report Designer and Design Print-Quality Reports with Report Designer.</li>
                      </ul>
                    </td>
                  </tr>
                </tbody>
              </table>
              <p class="p">&nbsp;</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Overview" rel="internal">Overview</a>  </li>
      <li> <a href="#Create_a_Transformation" rel="internal">Create a&nbsp;Transformation</a>  </li>
      <li> <a href="#Adjust_Transformation_Properties" rel="internal">Adjust Transformation Properties</a>  </li>
      <li> <a href="#Save_a_Transformation_Locally" rel="internal">Save&nbsp;a Transformation Locally</a>  </li>
      <li> <a href="#Save_a_Transformation_Remotely" rel="internal">Save a Transformation Remotely</a>  </li>
      <li> <a href="#Open_a_Transformation" rel="internal">Open a Transformation</a>  </li>
      <li> <a href="#Using_the_Transformation_Menu" rel="internal">Using the Transformation Menu</a>  </li>
    </ol>
  </body>
</content>