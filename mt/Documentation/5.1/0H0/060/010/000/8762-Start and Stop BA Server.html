<content type="text/html" title="Start and Stop BA Server">
  <body>
    <div>
      <div class="body taskbody">
        <div class="section context">
          <p class="p">
            <img alt="File:/grBaservStepStartBAServer.png" class="image internal" id="f7548781-3455-42f7-8239-2ff79b25c6de__H1__image_oh3_sfb_zj" src="http://help.pentaho.com/@api/deki/files/1233/grBaservStepStartBAServer.png?revision=1" />
          </p> To work with the User Console, the BA repository and the BA server have to be running. Yet, there may be times when you need to manage these components individually, stopping them to perform system maintenance and restarting them after you are
          done. As part of the
          <a class="xref" title="Documentation/5.1/0F0/0I0/000" rel="internal" href="http://help.pentaho.com/Documentation/5.1/0F0/0I0/000">Installation Wizard</a>  and
          <a class="xref" title="Install BA Server with Your Own BA Repository" rel="internal" href="http://help.pentaho.com/Documentation/5.1/0F0/0P0">Archive Installation</a>, we provide different ways to help you start and stop the components, depending on the operating system you use. If you installed Pentaho software
          <a class="xref" title="Documentation/5.1/0F0/0K0/010" rel="internal"
          href="http://help.pentaho.com/Documentation/5.1/0F0/0K0/010">manually</a>, use the information in this section as a guide to create a custom way to start and stop these components.
          <div class="p">For Microsoft Windows, these are your options for starting and stopping the components.
            <ul class="ul" id="f7548781-3455-42f7-8239-2ff79b25c6de__H1__ul_ar4_zzd_vj">
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__start_menu_windows" rel="internal" href="http://help.pentaho.com/Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__start_menu_windows">For the Installation Wizard</a> 
              </li>
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_individual_service_control_scripts_Windows" rel="internal" href="http://help.pentaho.com/Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_individual_service_control_scripts_Windows">For the Archive Installation</a> 
              </li>
            </ul>
          </div>
          <div class="p">For Linux, these are your options for starting and stopping the components.
            <ul class="ul" id="f7548781-3455-42f7-8239-2ff79b25c6de__H1__ul_l3l_d12_vj">
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_master_service_control_scripts" rel="internal" href="http://help.pentaho.com/Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_master_service_control_scripts">For the Installation Wizard</a> 
              </li>
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_individual_service_control_scripts_Linux" rel="internal" href="http://help.pentaho.com/Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_individual_service_control_scripts_Linux">For the Archive Installation</a> 
              </li>
              <li class="li">
                <a class="xref" title="Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_starting_ba_server_on_boot_linux" rel="internal" href="http://help.pentaho.com/Documentation/5.1/0H0/060/010/000#f7548781-3455-42f7-8239-2ff79b25c6de__task_starting_ba_server_on_boot_linux">For the Installation Wizard and Archive Installation&mdash;starting on boot</a> 
              </li>
            </ul>
          </div>
          <p class="p">When you are done, please go on to the next stop on the <em class="ph i">Guide Post</em>  graphic.</p>
        </div>
      </div>
      <div class="topic task nested1" id="f7548781-3455-42f7-8239-2ff79b25c6de__start_menu_windows">
        <div id="section_1" class="mt-page-section"><span id="Windows_Pentaho_Installation_Wizard"></span> 
          <h2 class="editable">Windows Pentaho Installation Wizard</h2>
          <div class="body taskbody">
            <div class="section context">When you ran the Installation Wizard on Windows, the BA Server is deployed in an Apache Tomcat application server. You can manage the BA Server by clicking <span class="ph uicontrol">Start</span>  > <span class="ph uicontrol">All Programs</span>               > <span class="ph uicontrol">Pentaho Enterprise Edition</span>  > <span class="ph uicontrol">Manage Servers</span>  and then select one of these menu items.
              <ul class="ul">
                <li class="li">Start BA Server</li>
                <li class="li">Stop BA Server</li>
              </ul>
              <p class="p">The wizard also registered the BA Server, as well as the BA repository, as services. These services are set to run automatically, enabling them to start and stop when the computer running them boots or shuts down. You can use the Windows
                Services applet found in the Control Panel to start and stop the Pentaho servers and the BA repository.</p>
            </div>
            <ol class="ol steps">
              <li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Start</span>  > <span class="ph uicontrol">Control Panel</span>  > <span class="ph uicontrol">Administrative Tools</span>  > <span class="ph uicontrol">Services</span> . </span> 
              </li>
              <li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Services</span>  window, right-click on one of these services in the list and take the appropriate action.</span> 
                <ul class="ul">
                  <li class="li">Pentaho BA Server</li>
                  <li class="li">Pentaho BA Repository</li>
                </ul>
              </li>
            </ol>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="f7548781-3455-42f7-8239-2ff79b25c6de__task_individual_service_control_scripts_Windows">
        <div id="section_2" class="mt-page-section"><span id="Windows_Pentaho_Archive_Installation"></span> 
          <h2 class="editable">Windows Pentaho Archive Installation</h2>
          <div class="body taskbody">
            <div class="section context">
              <p class="p">If you used the Archive Installation, we provide individual control scripts to start and stop the BA server and BA repository. Here is where you can find the individual control scripts.</p>
              <p class="p"><strong class="ph b">BA Repository</strong> </p>
              <ul class="ul">
                <li class="li">The Archive Installation enables you to install either PostgreSQL, MySQL, or Oracle as the repository. Consult the documentation for the RDBMS you selected for information about starting and stopping.
                  <p class="p">The BA repository must be started before the BA Server.</p>
                </li>
              </ul>
              <p class="p"><strong class="ph b">BA Server </strong> </p>
              <ul class="ul">
                <li class="li"><span class="ph filepath">/pentaho/server/biserver-ee/start-pentaho.bat and stop-pentaho.bat</span> </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="f7548781-3455-42f7-8239-2ff79b25c6de__task_master_service_control_scripts">
        <div id="section_3" class="mt-page-section"><span id="Linux_Pentaho_Installation_Wizard"></span> 
          <h2 class="editable">Linux Pentaho Installation Wizard</h2>
          <div class="body taskbody">
            <div class="section context">
              <p class="p">When you ran the Installation Wizard on Linux, the BA Server is deployed in an included Apache Tomcat application server. You can control the Tomcat server using the start and stop scripts that come with the Pentaho installation. This script
                is also used as an easy way to start and stop the BA Server and the PostgreSQL repository.</p>
              <p class="p">You can find this script at <span class="ph filepath">/pentaho/ctlscript.sh</span> .</p>
              <p class="p">Here is a list of the script arguments and services you can use.</p>
              <div class="p"><span class="ph uicontrol">Arguments</span> 
                <ul class="ul" id="f7548781-3455-42f7-8239-2ff79b25c6de__task_master_service_control_scripts__ul_l53_4fz_vk">
                  <li class="li"><span class="ph filepath">start</span> </li>
                  <li class="li"><span class="ph filepath">stop</span> </li>
                  <li class="li"><span class="ph filepath">restart</span> </li>
                  <li class="li"><span class="ph filepath">status</span> </li>
                  <li class="li"><span class="ph filepath">help</span> </li>
                </ul>
              </div>
              <div class="p"><span class="ph uicontrol">Services</span> 
                <ul class="ul" id="f7548781-3455-42f7-8239-2ff79b25c6de__task_master_service_control_scripts__ul_inn_qfz_vk">
                  <li class="li"><span class="ph filepath">baserver</span> </li>
                  <li class="li"><span class="ph filepath">postgressql</span> </li>
                </ul>
              </div>
            </div>
            <div class="example"> <pre class="pre codeblock">
<code class="ph codeph">./ctlscript.sh start baserver</code></pre> <pre class="pre codeblock">
<code class="ph codeph">./ctlscript.sh status postgressql</code></pre> <pre class="pre codeblock">
<code class="ph codeph">./ctlscript.sh help</code></pre> </div>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="f7548781-3455-42f7-8239-2ff79b25c6de__task_individual_service_control_scripts_Linux">
        <div id="section_4" class="mt-page-section"><span id="Linux_Pentaho_Archive_Installation"></span> 
          <h2 class="editable">Linux Pentaho Archive Installation</h2>
          <div class="body taskbody">
            <div class="section context">
              <p class="p">If you used the Archive Installation, Pentaho provides individual control scripts to start and stop the Tomcat application server, BA Server, and BA repository. Here is where you can find the individual control scripts.</p>
              <p class="p"><strong class="ph b">BA Repository</strong> </p>
              <ul class="ul">
                <li class="li">The Archive Installation enables you to install either PostgreSQL, MySQL, or Oracle as the BA repository. Consult the documentation for the RDBMS you selected for information about starting and stopping.
                  <p class="p">The BA repository must be started before the BA Server.</p>
                </li>
              </ul>
              <p class="p"><strong class="ph b">BA Server </strong> </p>
              <ul class="ul">
                <li class="li"><span class="ph filepath">/pentaho/server/biserver-ee/start-pentaho.sh and stop-pentaho.sh</span> </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="topic task nested1" id="f7548781-3455-42f7-8239-2ff79b25c6de__task_starting_ba_server_on_boot_linux">
        <div id="section_5" class="mt-page-section"><span id="Linux_Pentaho_Wizard_or_Archive_Installation.E2.80.94Starting_on_Boot"></span> 
          <h2 class="editable">Linux Pentaho Wizard or Archive Installation&mdash;Starting on Boot</h2>
          <div class="body taskbody">
            <div class="section context">The Installation Wizard and the Archive Installation do not provide a way to start the BA repository and BA Server automatically on boot. They also do not stop automatically at shutdown. Here are examples of how you might approach creating
              a script to start at boot and stop at shutdown.
              <p class="p">This procedure assumes that you are running the BA Server under the <code class="ph codeph">pentaho</code> local user account. If you are using a different account to start these services, substitute it in the script in step 2. This script
                also assumes you are using the PostgreSQL repository. Where <code class="ph codeph">postgresql</code> appears in this script, change it to reflect the RDBMS you are using as a repository, either MySQL or Oracle. This script was tested
                on Red Hat Enterprise Linux. You may have to modify the details of the script if you use a different distribution of Linux or other Unix-like operating system, different shells, or different <span class="ph filepath">init</span>  systems.</p>
            </div>
            <ol class="ol steps">
              <li class="li step"><span class="ph cmd">With root permissions, create a file in <span class="ph filepath">/etc/init.d/</span>  named <span class="ph filepath">pentaho</span> .</span> 
              </li>
              <li class="li step"><span class="ph cmd">Using a text editor, copy the following content into the new pentaho script. If running the solution repository on the same machine as the server, change <code class="ph codeph">postgresql</code> to the name of the <span class="ph filepath">init</span>                 script for your database. If running the solution repository on the a remote computer, remove <code class="ph codeph">postgresql</code> entirely. You may also have to adjust the paths to the BA Server scripts to match your situation.</span> 
                <pre class="pre codeblock">
#!/bin/sh
### BEGIN INIT INFO
# Provides: start-pentaho stop-pentaho
# Required-Start: networking postgresql
# Required-Stop: postgresql
# Default-Start: 2 3 4 5
# Default-Stop: 0 1 6
# Description: Pentaho BA Server
### END INIT INFO
case &quot;$1&quot; in
&quot;start&quot;)
su - pentaho -c &quot;/home/pentaho/pentaho/server/biserver-ee/start-pentaho.sh&quot;
;;
&quot;stop&quot;)
su - pentaho -c &quot;/home/pentaho/pentaho/server/biserver-ee/stop-pentaho.sh&quot;
;;
*)
echo &quot;Usage: $0 { start | stop }&quot;
;;
esac
exit 0</pre> </li>
              <li class="li step"><span class="ph cmd">Save the file, then open <span class="ph filepath">/home/pentaho/pentaho/server/biserver-ee/start-pentaho.sh</span> .</span> 
              </li>
              <li class="li step"><span class="ph cmd">Change the last <code class="ph codeph">if</code> statement to match the this example.</span>  <pre class="pre codeblock">
if [ &quot;$?&quot; = 0 ]; then
  cd &quot;$DIR/tomcat/bin&quot;
  export CATALINA_OPTS=&quot;-Xms4096m -Xmx6144m -XX:MaxPermSize=256m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000&quot;
  env JAVA_HOME=$_PENTAHO_JAVA_HOME sh ./startup.sh
fi</pre> </li>
              <li class="li step"><span class="ph cmd">Save the file and close the text editor.</span> </li>
              <li class="li step"><span class="ph cmd">Make the <span class="ph filepath">init</span>  script executable.</span>  <pre class="pre codeblock">
chmod +x /etc/init.d/pentaho</pre> </li>
              <li class="li step"><span class="ph cmd">Add the Pentaho <span class="ph filepath">init</span>  script to the standard run levels by using the <code class="ph codeph">update-rc.d </code>command, so that it runs when the system starts, and stops when the system
                is shut down or rebooted.</span>  This command may not exist on your computer if it is not Debian-based. If that is the case, consult your distribution documentation or contact your distribution's support department to determine how to
                add <span class="ph filepath">init</span>  scripts to the default run levels. <pre class="pre codeblock">
update-rc.d pentaho defaults</pre> </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Windows_Pentaho_Installation_Wizard" rel="internal">Windows Pentaho Installation Wizard</a>  </li>
      <li> <a href="#Windows_Pentaho_Archive_Installation" rel="internal">Windows Pentaho Archive Installation</a>  </li>
      <li> <a href="#Linux_Pentaho_Installation_Wizard" rel="internal">Linux Pentaho Installation Wizard</a>  </li>
      <li> <a href="#Linux_Pentaho_Archive_Installation" rel="internal">Linux Pentaho Archive Installation</a>  </li>
      <li> <a href="#Linux_Pentaho_Wizard_or_Archive_Installation.E2.80.94Starting_on_Boot" rel="internal">Linux Pentaho Wizard or Archive Installation&mdash;Starting on Boot</a>  </li>
    </ol>
  </body>
</content>