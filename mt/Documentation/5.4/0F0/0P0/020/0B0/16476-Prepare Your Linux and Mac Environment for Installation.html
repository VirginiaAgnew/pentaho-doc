<content type="text/html" title="Prepare Your Linux and Mac Environment for Installation">
  <head>
    <link type="text/css" rel="stylesheet" href="http://help.pentaho.com/@cdn/deki/syntax2/out/shCore.min.css" />
    <link type="text/css" rel="stylesheet" href="http://help.pentaho.com/@cdn/deki/syntax2/out/shThemeCedar.min.css" />
    <script type="text/javascript" src="http://help.pentaho.com/@cdn/deki/syntax2/out/shCore.min.js"></script>
    <script type="text/javascript" src="http://help.pentaho.com/@cdn/deki/syntax2/out/shBrushPlain.min.js"></script>
    <script type="text/javascript">
      /*<![CDATA[*/
      SyntaxHighlighter.all(); /*]]>*/
    </script>
  </head>
  <body>
    <div>
      <div id="section_1" class="mt-page-section"><span id="Create_the_Pentaho_User"></span> 
        <h2 class="editable">Create the Pentaho User</h2>
        <p>Create a pentaho user account that has administrative privileges. &nbsp;You will use this account to complete the rest of the installation instructions.</p>
        <ol class="pentaho-list-ordered">
          <li class="li step"><span class="ph cmd">Create an administrative user on computer that will host the BA Server&nbsp;and name it <strong>pentaho</strong> .</span> </li>
          <li class="li step"><span class="ph cmd">Verify that you have the appropriate permissions to read, write, and execute commands in the pentaho user's home directory.</span> </li>
        </ol>
      </div>
      <div id="section_2" class="mt-page-section"><span id="Install_the_BA_Repository_Host_Database"></span> 
        <h2 class="editable">Install the BA Repository Host Database</h2>
        <p class="p" id="cke_bm_119S" style="display: none;">MySQL</p>
        <p class="p">The BA Repository houses data needed for Pentaho tools to provide scheduling and security functions. &nbsp;The repository also stores&nbsp;metadata and models for reports that you create. &nbsp;You can choose to host the BA Repository on these
          databases.</p>
        <ul class="pentaho-list-unordered">
          <li class="p">PostgreSQL</li>
          <li class="p">MySQL</li>
          <li class="p">Oracle</li>
          <li class="p">MS SQL Server</li>
        </ul>
        <p class="p">To install the BA Repository's host database, do these things.</p>
        <ol class="pentaho-list-ordered">
          <li class="li step">Check the
            <a title="Review Supported Technologies" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0D0/160">Supported Technologies</a>  section&nbsp;to determine which versions of the&nbsp;databases Pentaho supports.</li>
          <li class="li step">Download and install the database of your choice.&nbsp;</li>
          <li class="li step">Verify that the BA Repository database is installed correctly.</li>
        </ol>
      </div>
      <div id="section_3" class="mt-page-section"><span id="Install_Java"></span> 
        <h2 class="editable">Install Java&nbsp;</h2>
        <p class="p">Install a supported version of Java.</p>
        <ol class="pentaho-list-ordered">
          <li class="li step">Check the S
            <a class="xref" title="Documentation/5.1/0D0/160/000" rel="internal" href="http://help.pentaho.com/Documentation/5.2/0D0/160/000">upported Technologies</a>  list to see which version of Java Pentaho&nbsp;supports.</li>
          <li class="li step">Download&nbsp;the supported version of the JRE or JDK
            <a class="xref external" target="_blank" rel="external nofollow" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">from the Oracle site</a>  and install it.</li>
        </ol>
      </div>
      <div id="section_4" class="mt-page-section"><span id="Download_and_Unpack_Installation_Files"></span> 
        <h2 class="editable">Download and Unpack Installation Files</h2>
        <p>The Pentaho BA Server software, data files, and examples are stored in pre-packaged .zip files. You will need to manually copy these files to correct directories.</p>
        <div id="section_5" class="mt-page-section"><span id="Download_Files"></span> 
          <h3 class="editable">Download Files</h3>
          <p>Download the following installation and plug-in files from the
            <a title="https://help.pentaho.com/Documentation/5.3/Welcome_to_Pentaho_Documentation_5.3!/Get_Help_and_Support/001" rel="internal" href="http://help.pentaho.com/Documentation/5.4/Welcome_to_Pentaho_Documentation_5.4/Additional_Resources/001">Pentaho Customer Support Portal</a>  in the archive build folder.</p>
          <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
            <thead>
              <tr>
                <th scope="col">Component</th>
                <th scope="col">Zip File</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>BA Server Installation File</td>
                <td><span class="ph filepath">biserver-ee-</span> <span class="ph filepath">5.4.0-dist</span> <span class="ph filepath">.zip</span> </td>
              </tr>
              <tr>
                <td>Dashboard Designer Plugin</td>
                <td><span class="ph filepath">pdd-plugin-ee-5.4.0-dist.zip</span> </td>
              </tr>
              <tr>
                <td>Interactive Reporting Plugin</td>
                <td><span class="ph filepath">pir-plugin-ee-5.4.0-dist.zip</span> </td>
              </tr>
              <tr>
                <td>Mobile Plugin</td>
                <td><span class="ph filepath">pentaho-mobile-plugin-5.4.0-dist.zip</span> </td>
              </tr>
              <tr>
                <td>Pentaho Analyzer Plugin</td>
                <td><span class="ph filepath">paz-plugin-ee-5.4.0-dist.zip</span> </td>
              </tr>
              <tr>
                <td>BA Operations Mart Files</td>
                <td><span class="filepath style-wrap">pentaho-operations-mart-</span> <span class="ph filepath">5.4.0-</span> <span class="filepath style-wrap">dist.zip</span> </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="section_6" class="mt-page-section"><span id="Unpack_BA_Server_Installation_File"></span> 
          <h3 class="editable">Unpack BA Server Installation File</h3>
          <ol class="pentaho-list-ordered">
            <li>Unzip the BA Server Installation file.</li>
            <li>To unpack the file, run <span class="filepath style-wrap">installer.sh</span> .&nbsp; The <strong>IZPak </strong> window appears.</li>
            <li>Read the license agreement, select <strong>I accept the terms of this license agreement</strong>, and click <strong>Next</strong> .</li>
            <li>In the <strong>Select the installation path</strong>  text box, enter the place where you want to create the pentaho directory, then click <strong>Next</strong> .</li>
            <li>A message indicating that a target directory will be created appears.&nbsp; Click <strong>Yes</strong> .</li>
            <li>When the installation progress is complete, click <strong>Quit</strong> .</li>
            <li>Navigate to the pentaho directory and create a server subdirectory.</li>
            <li>Move the biserver-ee directory into the server directory.&nbsp; When you are finished, the directory structure should look like this:
              <ul>
                <li>pentaho/jdbc-distribution</li>
                <li>pentaho/license-installer</li>
                <li>pentaho/server/biserver-ee</li>
              </ul>
            </li>
          </ol>
        </div>
        <div id="section_7" class="mt-page-section"><span id="Unpack_Plugin_Files"></span> 
          <h3 class="editable">Unpack Plugin Files</h3>
          <ol class="pentaho-list-ordered">
            <li>&#8203;Unzip the file.</li>
            <li>Unpack the file by running <span class="filepath style-wrap">install.sh.</span> </li>
            <li>In the <strong>IZPack </strong> window read the license agreement, select<strong> I accept the terms of this license agreement</strong>, then click <strong>Next</strong> .</li>
            <li>In the <strong>Select the installation path</strong>  text box, save the file in the <span class="filepath style-wrap">pentaho/server/biserver-ee/pentaho-solutions/system</span>  directory, then click <strong>Next</strong> .</li>
            <li>A warning message appears.&nbsp; Click <strong>Yes</strong> .</li>
            <li>When the installation finishes, click <strong>Quit</strong> .</li>
          </ol>
        </div>
        <div id="section_8" class="mt-page-section"><span id="Unpack_Operations_Mart_DDL_Files"></span> 
          <h3 class="editable">Unpack Operations Mart DDL&nbsp;Files</h3>
          <ol class="pentaho-list-ordered">
            <li>&#8203;Unzip the file.</li>
            <li>Unpack the file by running <span class="filepath style-wrap">install.sh</span> .</li>
            <li>In the <strong>IZPack </strong> window read the license agreement, select<strong> I accept the terms of this license agreement</strong>, then click <strong>Next</strong> .</li>
            <li>In the <strong>Select the installation path</strong>  text box, save the file in the <span class="filepath style-wrap">pentaho/server/biserver-ee/data&nbsp;</span> directory, then click <strong>Next</strong> .</li>
            <li>A warning message appears.&nbsp; Click <strong>Yes</strong> .</li>
            <li>When the installation finishes, click <strong>Quit</strong> .</li>
            <li>Remove all of the files except the pentaho-operations-mart-ddl-<span class="ph filepath">5.4.0</span> .zip file.</li>
            <li>Unzip the&nbsp;pentaho-operations-mart-ddl-<span class="ph filepath">5.4.0</span> .zip file. &nbsp;Move the directory for your database into <span class="filepath style-wrap">pentaho/server/biserver-ee/data/<database name></span> . &nbsp;Delete
              the others.</li>
          </ol>
          <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table" style="width: 642px; table-layout: fixed;" title="Pentaho Table">
            <tbody>
              <tr>
                <th style="width: 245px;">If your BA Repository is On:&nbsp;</th>
                <th style="width: 373px;">Copy this directory into&nbsp;<span class="filepath style-wrap">pentaho/server/biserver-ee/data/</span> </th>
              </tr>
              <tr>
                <td style="width: 245px;">PostgreSQL</td>
                <td style="width: 373px;">postgresql</td>
              </tr>
              <tr>
                <td style="width: 245px;">MySQL</td>
                <td style="width: 373px;">mysql5</td>
              </tr>
              <tr>
                <td style="width: 245px;">Oracle</td>
                <td style="width: 373px;">oracle10g</td>
              </tr>
              <tr>
                <td style="width: 245px;">MS SQL Server</td>
                <td style="width: 373px;">sqlserver</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="section_9" class="mt-page-section"><span id="Verify_Directory_Structure"></span> 
          <h3 class="editable">Verify Directory Structure</h3>
          <p>After you have finished unpacking all of the plugin and pentaho operations mart files, the pentaho directory structure should contain these subdirectories.</p>
          <ul class="pentaho-list-unordered">
            <li>pentaho/server/biserver-ee/pentaho-solutions/system/analyzer</li>
            <li>pentaho/server/biserver-ee/pentaho-solutions/system/dashboards</li>
            <li>pentaho/server/biserver-ee/pentaho-solutions/system/pentaho-interactive-reporting</li>
            <li>pentaho/server/biserver-ee/pentaho-solutions/system/pentaho-mobile-plugin</li>
            <li>pentaho/server/biserver-ee/</li>
            <li>pentaho/server/biserver-ee/data/
              <database name>
            </li>
          </ul>
        </div>
      </div>
      <div id="section_10" class="mt-page-section"><span id="Set_Environment_Variables"></span> 
        <h2 class="editable">Set Environment Variables</h2>
        <p class="p">Set the <span class="filepath style-wrap">PENTAHO_JAVA_HOME</span> &nbsp; and&nbsp;<span class="filepath style-wrap">PENTAHO_INSTALLED_LICENSE_PATH</span> &nbsp;environment&nbsp;variables.&nbsp;If you do not set these variables, Pentaho will not
          start correctly.&nbsp;</p>
        <p class="pentaho-note">If you are using a JRE, set the <span class="filepath style-wrap">JRE_HOME</span> &nbsp;home environment variable as well.</p>
        <ol class="pentaho-list-ordered">
          <li class="li step"><span class="ph cmd">Set the path of the <span class="ph filepath"><span class="filepath style-wrap">PENTAHO_JAVA_HOME</span>  </span> variable&nbsp;to the path of your Java&nbsp;installation, like this.</span>  <pre class="pre codeblock">
<span class="ph filepath">export PENTAHO_JAVA_HOME=/usr/lib/jvm/java-7-sun</span> 
</pre> </li>
          <li class="li step"><span class="ph cmd">Set the path of the <span class="ph filepath">&nbsp;<span class="filepath style-wrap">PENTAHO_INSTALLED_LICENSE_PATH</span> </span> &nbsp;variable to the path of your installed licenses, like this.</span>  <pre class="pre codeblock">
<span class="ph filepath">export PENTAHO_INSTALLED_LICENSE_PATH=/home/pentaho/.pentaho/.installedLicenses.xml</span> 
</pre> </li>
          <li class="li step"><span class="ph cmd">Log out and in again, then&nbsp;verify the variables have been properly set.</span> </li>
        </ol>
      </div>
      <div id="section_11" class="mt-page-section"><span id="Advanced_Linux_and_Mac_Topics"></span> 
        <h2 class="editable">Advanced Linux and Mac&nbsp;Topics</h2>
        <p>Complete the instructions in this section only if you have a headless node or if you plan to install on a Mac OS.</p>
        <div id="section_12" class="mt-page-section"><span id="Prepare_a_Headless_Linux_or_Solaris_Server"></span> 
          <h3 class="editable">Prepare a Headless Linux or Solaris Server</h3>
          <p class="p">There are two headless server scenarios that require special procedures on Linux and Solaris systems. One is for a system that has no video card; the other is for a system that has a video card, but does not have an X server installed. In some
            situations -- particularly if your server doesn't have a video card -- you will have to perform both procedures to properly generate reports with the BA Server.</p>
          <p class="p"><strong class="ph b">Systems without video cards</strong> </p>
          <p class="p">The <strong class="ph b">java.awt.headless</strong>  option enables systems without video output and/or human input hardware to execute operations that require them. To set this application server option when the BA Server starts, you will need
            to modify the startup scripts for either the BA Server, or your Java application server. You do not need to do this now, but you will near the end of these instruction when you perform the
            <a class="xref" title="Start BA Server" rel="internal"
            href="http://help.pentaho.com/Documentation/5.4/0F0/0P0/060">Start BA Server</a>  step. For now, add the following item to the list of CATALINA_OPTS parameters: <strong class="ph b">-Djava.awt.headless=true</strong> .</p>
          <p class="p">The entire line should look something like this:</p> <pre class="brush: plain; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">export CATALINA_OPTS=&quot;-Djava.awt.headless=true -Xms4096m -Xmx6144m -XX:MaxPermSize=256m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000&quot;</pre>
          <p class="p">If you intend to create a BA Server service control script, you must add this parameter to that script's CATALINA_OPTS line.</p>
          <p class="pentaho-note">If you do not have an X server installed, you must also follow the below instructions.</p>
          <p class="p"><strong class="ph b">Systems without X11</strong> </p>
          <p class="p">To generate charts, the Pentaho Reporting engine requires functionality found in X11. If you are unwilling or unable to install an X server, you can install the <strong class="ph b">xvfb</strong>  package instead. xvfb provides X11 framebuffer
            emulation, which performs all graphical operations in memory instead of sending them to the screen.</p>
          <p class="p">Use your operating system's package manager to properly install xvfb.</p>
        </div>
        <div id="section_13" class="mt-page-section"><span id="Adjust_Amount_of_Memory_Mac_OS_Allocates_for_PostgreSQL"></span> 
          <h3 class="editable">Adjust Amount of Memory Mac OS Allocates for PostgreSQL</h3>
          <p class="p">If you plan to install the software on a Mac OS, and you choose to use PostgreSQL, you need to increase the amount of memory that the Mac OS allocates for PostgreSQL. You can skip these instructions if you plan to install the software on Windows
            or Linux.</p>
          <p class="p">PostgreSQL is the name of the default database that contains audit, schedule and other data that you create. &nbsp;PostgreSQL starts successfully only if your computer has allocated enough memory. Go to
            <a class="xref external" target="_blank"
            rel="external nofollow" href="http://www.postgresql.org/docs/devel/static/kernel-resources.html">http://www.postgresql.org/docs/devel/static/kernel-resources.html</a>  and follow the instructions there on how to adjust the memory settings on your computer.&nbsp;</p>
        </div>
      </div>
      <div id="section_14" class="mt-page-section"><span id="Next_Step"></span> 
        <h2 class="editable">Next Step</h2>
        <p>You've finished preparing your environment. &nbsp;Go to
          <a title="Configure Your Repository Database" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0F0/0P0/030">Configure&nbsp;Your Repository Database</a>  to continue.</p>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Create_the_Pentaho_User" rel="internal">Create the Pentaho User</a>  </li>
      <li> <a href="#Install_the_BA_Repository_Host_Database" rel="internal">Install the BA Repository Host Database</a>  </li>
      <li> <a href="#Install_Java" rel="internal">Install Java&nbsp;</a>  </li>
      <li>
        <a href="#Download_and_Unpack_Installation_Files" rel="internal">Download and Unpack Installation Files</a> 
        <ol>
          <li> <a href="#Download_Files" rel="internal">Download Files</a>  </li>
          <li> <a href="#Unpack_BA_Server_Installation_File" rel="internal">Unpack BA Server Installation File</a>  </li>
          <li> <a href="#Unpack_Plugin_Files" rel="internal">Unpack Plugin Files</a>  </li>
          <li> <a href="#Unpack_Operations_Mart_DDL_Files" rel="internal">Unpack Operations Mart DDL&nbsp;Files</a>  </li>
          <li> <a href="#Verify_Directory_Structure" rel="internal">Verify Directory Structure</a>  </li>
        </ol>
      </li>
      <li> <a href="#Set_Environment_Variables" rel="internal">Set Environment Variables</a>  </li>
      <li>
        <a href="#Advanced_Linux_and_Mac_Topics" rel="internal">Advanced Linux and Mac&nbsp;Topics</a> 
        <ol>
          <li> <a href="#Prepare_a_Headless_Linux_or_Solaris_Server" rel="internal">Prepare a Headless Linux or Solaris Server</a>  </li>
          <li> <a href="#Adjust_Amount_of_Memory_Mac_OS_Allocates_for_PostgreSQL" rel="internal">Adjust Amount of Memory Mac OS Allocates for PostgreSQL</a>  </li>
        </ol>
      </li>
      <li> <a href="#Next_Step" rel="internal">Next Step</a>  </li>
    </ol>
  </body>
</content>