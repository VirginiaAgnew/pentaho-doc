<content type="text/html" title="Annotate Stream (step)">
  <body>
    <div>
      <div class="pentaho-overview-hidden">
        <div id="section_1" class="mt-page-section"><span id="Overview"></span> 
          <h2 class="editable">Overview</h2>
          <p>The Annotation Stream step helps you refine your data table for the Streamlined Data Refinery&nbsp;by creating measures, link dimensions, or attributes on column(s) that you specify.&nbsp;</p>
        </div>
      </div>
      <p>The Annotation Stream step helps you refine your data for the Streamlined Data Refinery&nbsp;by creating measures, link dimensions, or attributes on column(s) that you specify.&nbsp;</p>
      <p>If you want, you can create multiple annotations on the same field; for example, you might want to create an average measure and a sum measure on the same field. You can also create multiple Annotation Streams to modify the same data model.</p>
      <p>The Annotate Stream modifies the default model produced from the
        <a title="Build Model (job entry)" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0A0">Build Model</a>  job entry.</p>
      <p style="text-align: center;">
        <a class="thumb" title="SDRBasicWorkflow.png" rel="internal" href="http://help.pentaho.com/@api/deki/files/4928/SDRBasicWorkflow.png">
          <img alt="SDRBasicWorkflow.png" class="internal default" style="width: 600px; height: 56px;" width="600px" height="56px" src="http://help.pentaho.com/@api/deki/files/4928/SDRBasicWorkflow.png?size=bestfit&amp;width=600&amp;height=56&amp;revision=1"
          />
        </a> 
      </p>
      <p>After you are done annotating your data model, you are ready to
        <a title="Publish Model (job entry)" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0D0">publish</a>  it.</p>
      <div id="section_2" class="mt-page-section"><span id="Using_the_Annotate_Stream_Step"></span> 
        <h2 class="editable">Using the Annotate Stream Step</h2>
        <p>These sections describe the different ways that you can create annotations. The annotation type that you create determines which properties are shown in the dialog box to complete that annotation. &nbsp;</p>
        <p>
          <img alt="AnnotateStreamIcon.png" class="internal default" style="width: 165px; height: 45px;" width="165px" height="45px" src="http://help.pentaho.com/@api/deki/files/4805/AnnotateStreamIcon.png?size=bestfit&amp;width=165&amp;height=45&amp;revision=2"
          />
        </p>
        <ol class="pentaho-list-ordered">
          <li>Locate the <strong>Annotate Stream </strong> step from the <strong>Design </strong> pane in PDI.</li>
          <li>Drag and drop the <strong>Annotate Stream</strong>  icon onto the transformation canvas.
            <br /> You can also double-click on icons in the <strong>Design</strong>  pane to add them to the canvas.</li>
          <li>Double-click the <strong>Annotate Stream</strong>  icon to open the dialog box.
            <br /> You can also double-click on icons in the <strong>Design</strong>  pane to add them to the canvas.</li>
          <li>Fill out the information in the dialog box:
            <ol>
              <li><strong>Step Name - </strong> type a name for your entry in this field.</li>
              <li><strong>Local or Shared - </strong> choose if you want to save your step locally or
                <a title="https://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0B0#Create_Annotation_Groups" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0B0#Create_Annotation_Groups">share </a> it.</li>
              <li><strong>Select Fields</strong>  - click this button to select from a list of available fields for annotation.</li>
              <li><strong>Model Action </strong> - select an annotation type:
                <a title="Create a Measure on a Column" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0B0/010">Create Measure</a>,
                <a title="Create Attribute" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0B0/020">Create Attribute</a>, or
                <a title="Create Link Dimensions" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0B0/030">Create Link Dimension</a> .</li>
            </ol>
          </li>
          <li>Click <strong>OK </strong> to continue or <strong>Cancel </strong> to close the dialog box.</li>
          <li>If you make a change to an annotation, click <strong>Apply </strong> to save them or <strong>Cancel </strong> to close the dialog box.</li>
        </ol>
        <p>This is an example of the Annotate Stream dialog box, along with a table that has more details about each field.</p>
        <p style="text-align: center;">
          <a class="thumb" title="AnnotateStreamStep.png" rel="internal" href="http://help.pentaho.com/@api/deki/files/5010/AnnotateStreamStep.png">
            <img alt="AnnotateStreamStep.png" class="internal default" style="width: 651px; height: 504px;" width="651px" height="504px" src="http://help.pentaho.com/@api/deki/files/5010/AnnotateStreamStep.png?size=bestfit&amp;width=651&amp;height=504&amp;revision=1"
            />
          </a> 
        </p>
        <table border="1" cellpadding="1" cellspacing="1" class="pentaho-table" style="width: 100%; table-layout: fixed;" title="Pentaho Table">
          <tbody>
            <tr>
              <th scope="col" style="width: 150px;">Options</th>
              <th scope="col" style="width: 475px;">Description</th>
            </tr>
            <tr>
              <td style="width: 172px;">Step Name</td>
              <td style="width: 502px;">Displays the name of the step.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Local</td>
              <td style="width: 502px;">Choose <strong>Local</strong>  if you want to save the annotations locally into the transformation.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Shared</td>
              <td style="width: 502px;">Choose <strong>Shared</strong>  to select, create, or rename a
                <a title="https://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0B0#Create_Annotation_Groups" rel="internal" href="http://help.pentaho.com/Documentation/5.4/0N0/060/0B0/020/0B0#Create_Annotation_Groups">shared </a> group for use by PDI users.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Description</td>
              <td style="width: 502px;">Use this space to enter a description for local annotations or shared group.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Annotations</td>
              <td style="width: 502px;">Displays a list of fields and annotations.</td>
            </tr>
            <tr>
              <td style="width: 172px;">-Edit</td>
              <td style="width: 502px;">Use to edit a field that you have highlighted from the Field list.</td>
            </tr>
            <tr>
              <td style="width: 172px;">-Delete</td>
              <td style="width: 502px;">Use to delete a field that you have highlighted from the Field list.</td>
            </tr>
            <tr>
              <td style="width: 172px;">-Field</td>
              <td style="width: 502px;">Lists the names of the fields selected for annotation.</td>
            </tr>
            <tr>
              <td style="width: 172px;">-Model Action</td>
              <td style="width: 502px;">Specifies which model action is being taken: Create Measure, Create Attribute, Link Dimension.</td>
            </tr>
            <tr>
              <td style="width: 172px;">-Summary</td>
              <td style="width: 502px;">Displays a summary of that specific annotation.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Select Fields</td>
              <td style="width: 502px;">Displays a list of fields to be be annotated or linked to a shared dimension.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Apply</td>
              <td style="width: 502px;">Applies changes to the annotation.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Help</td>
              <td style="width: 502px;">Provides a link to the <strong>Help </strong> documentation.</td>
            </tr>
            <tr>
              <td style="width: 172px;">OK</td>
              <td style="width: 502px;">Click <strong>OK </strong> to save.</td>
            </tr>
            <tr>
              <td style="width: 172px;">Cancel</td>
              <td style="width: 502px;">Click <strong>Cancel </strong> to close the window.</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="section_3" class="mt-page-section"><span id="Creating_Annotation_Groups"></span> 
        <h2 class="editable">Creating Annotation Groups</h2>
        <p>Annotation groups are useful when data sources, such as a weblog table, are reused in many transformations. Whenever this table is used, you can link to the shared annotation group to get model information on each table field.&nbsp; If the table
          were to ever change, then the annotations would only need to be updated in one place.</p>
        <p>You can create multiple annotations based on the same annotation group by copying the group, and then saving it with a different name. You can do this as many times as you need to make a series of related annotation groups, such as annotations
          for time dimensions.</p>
        <p>You can either save the group
          <a href="#SaveLocally">locally</a>, or you can
          <a href="#ShareMetastore">share it in the metastore</a>  for use later in creating PDI jobs.</p>
        <ol class="pentaho-list-ordered">
          <li>Open PDI and create a new transformation.</li>
          <li>Drag and drop the Annotate Stream icon onto the transformation canvas.</li>
          <li>Open the Annotate Stream step by double-clicking the icon.
            <p style="text-align: center;">
              <a class="thumb" title="AnnotationGroupExample.png" rel="internal" href="http://help.pentaho.com/@api/deki/files/4816/AnnotationGroupExample.png">
                <img alt="AnnotationGroupExample.png" class="internal default" style="width: 551px; height: 413px;" width="551px" height="413px" src="http://help.pentaho.com/@api/deki/files/4816/AnnotationGroupExample.png?size=bestfit&amp;width=551&amp;height=413&amp;revision=1"
                />
              </a> 
            </p>
          </li>
          <li>Enter a name in the <strong>Step Name</strong>  field.</li>
          <li>Select the <strong>Shared </strong> radio button, then click on the <strong>Add Annotation Group</strong>  icon</li>
          <li>Enter a name for your annotation group and click <strong>Select Fields </strong> to begin creating annotations to populate the group.</li>
          <li>When you are done, click <strong>Apply</strong> .</li>
        </ol>
        <p>There are two different options for saving your annotation group: locally or sharing it to the metastore for use by others.</p>
        <p>
          <a name="SaveLocally"></a> 
        </p>
        <div id="section_4" class="mt-page-section"><span id="Saving_the_Annotation_Group_Locally"></span> 
          <h3 class="editable">Saving the Annotation Group Locally</h3>
          <p>If you want to keep your new annotation group only on your local machine, select the <strong>Local </strong> radio button and click <strong>Apply</strong>  again.</p>
          <p>If you later decide that you want to share the annotation group, you can re-open it and select the <strong>Shared</strong>  radio button, then click <strong>Apply</strong> . The group will then be shared to the metastore and be available to other
            users.</p>
          <p>
            <a name="ShareMetastore"></a> 
          </p>
        </div>
        <div id="section_5" class="mt-page-section"><span id="Sharing_the_Annotation_Group_with_Other_Users"></span> 
          <h3 class="editable">Sharing the Annotation Group with Other Users</h3>
          <p>If you want to share your annotation group with other users, leave the <strong>Shared </strong> button selected, make sure that the new annotation group has a unique name, and click <strong>Apply</strong> .&nbsp;The group will then be available
            to other users for creating PDI jobs, by selecting from the <strong>Shared </strong> menu in the Annotate Stream step.</p>
          <p>If you later decide that you don&rsquo;t want to share the annotation group, you can re-open it and select <strong>Local</strong>, then click <strong>Apply</strong> . The group will be removed from the metastore and saved on your local machine
            for use.</p>
        </div>
      </div>
    </div>
  </body>
  <body target="toc">
    <ol>
      <li> <a href="#Overview" rel="internal">Overview</a>  </li>
      <li> <a href="#Using_the_Annotate_Stream_Step" rel="internal">Using the Annotate Stream Step</a>  </li>
      <li>
        <a href="#Creating_Annotation_Groups" rel="internal">Creating Annotation Groups</a> 
        <ol>
          <li> <a href="#Saving_the_Annotation_Group_Locally" rel="internal">Saving the Annotation Group Locally</a>  </li>
          <li> <a href="#Sharing_the_Annotation_Group_with_Other_Users" rel="internal">Sharing the Annotation Group with Other Users</a>  </li>
        </ol>
      </li>
    </ol>
  </body>
</content>